2025-05-02 06:33:36,567 - INFO - Initializing user session
2025-05-02 06:33:36,567 - INFO - Raw token: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 06:33:36,568 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 06:33:36,568 - INFO - Successfully extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 06:33:36,568 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 06:33:43,333 - INFO - Initializing user session
2025-05-02 06:33:43,333 - INFO - Raw token: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 06:33:43,333 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 06:33:43,333 - INFO - Successfully extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 06:33:43,334 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 06:33:43,335 - ERROR - Load chat history error: 250002 (08003): None: Connection is closed
2025-05-02 06:34:10,815 - INFO - Initializing user session
2025-05-02 06:34:10,816 - ERROR - Token is missing or None
2025-05-02 06:34:10,816 - WARNING - Using default credentials for development environment
2025-05-02 06:34:10,816 - ERROR - Token is missing or None
2025-05-02 06:34:10,816 - WARNING - Using default credentials for development environment
2025-05-02 06:34:10,816 - WARNING - Cannot load chat history: user not authenticated or user_code missing
2025-05-02 06:34:11,437 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 06:34:11,437 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 06:34:12,919 - INFO - Initializing user session
2025-05-02 06:34:12,919 - INFO - Raw token: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 06:34:12,919 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 06:34:12,919 - INFO - Successfully extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 06:34:12,920 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 06:34:12,921 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 06:34:12,921 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 06:34:13,174 - INFO - Snowflake connection initialized
2025-05-02 06:37:34,587 - WARNING - No user_code available for loading chat history
2025-05-02 06:40:18,778 - WARNING - No user_code available for loading chat history
2025-05-02 06:40:30,865 - WARNING - No user_code available for loading chat history
2025-05-02 06:40:57,057 - WARNING - No user_code available for loading chat history
2025-05-02 06:41:02,623 - WARNING - No user_code available for loading chat history
2025-05-02 07:34:27,948 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:34:27,949 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:34:29,260 - INFO - Snowflake connection initialized
2025-05-02 07:34:34,748 - ERROR - Chat history load error: 250002 (08003): None: Connection is closed
2025-05-02 07:34:43,531 - ERROR - Chat history load error: 250002 (08003): None: Connection is closed
2025-05-02 07:37:28,563 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:37:28,563 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:37:29,124 - INFO - Snowflake connection initialized
2025-05-02 07:38:45,007 - ERROR - Chat history load error: 250002 (08003): None: Connection is closed
2025-05-02 07:46:58,889 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:46:58,890 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:46:59,834 - INFO - Snowflake connection initialized and validated
2025-05-02 07:47:08,093 - WARNING - Snowflake connection was closed. Re-establishing connection.
2025-05-02 07:47:08,096 - ERROR - Chat history load error: 250002 (08003): None: Connection is closed
2025-05-02 07:52:09,108 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 07:52:09,108 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 07:52:09,109 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 07:52:09,110 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:52:09,110 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:52:10,393 - INFO - Snowflake connection initialized
2025-05-02 07:52:10,668 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:52:10,669 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:52:10,964 - INFO - Snowflake connection initialized
2025-05-02 07:52:13,044 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-02 07:52:13,188 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:52:13,189 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:52:13,577 - INFO - Snowflake connection initialized
2025-05-02 07:52:14,193 - INFO - Executed and cached query: SELECT * FROM OEEBREAKDOWNAI LIMIT 1000
2025-05-02 07:52:14,368 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:52:14,369 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:52:14,662 - INFO - Snowflake connection initialized
2025-05-02 07:52:15,291 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-02 07:52:15,585 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:52:15,586 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:52:15,990 - INFO - Snowflake connection initialized
2025-05-02 07:52:17,825 - INFO - Loaded 205 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-02 07:52:18,091 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:52:18,092 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:52:18,411 - INFO - Snowflake connection initialized
2025-05-02 07:52:20,164 - INFO - Loaded 203 embeddings from Snowflake for OEEBREAKDOWNAI
2025-05-02 07:52:20,384 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 07:52:20,385 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 07:52:20,830 - INFO - Snowflake connection initialized
2025-05-02 07:52:35,030 - INFO - Loaded 3600 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-02 16:10:53,219 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 16:10:53,219 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 16:10:53,219 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 16:10:53,220 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 16:10:53,220 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 16:10:53,220 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 16:10:54,404 - INFO - Snowflake connection initialized
2025-05-02 16:10:56,364 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 16:10:56,365 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 16:10:56,365 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 16:10:56,365 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 16:10:56,365 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 16:10:56,366 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 16:10:56,769 - INFO - Snowflake connection initialized
2025-05-02 16:10:58,257 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-02 16:10:58,602 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-02 16:10:58,655 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 16:10:58,655 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 16:10:58,903 - INFO - Snowflake connection initialized
2025-05-02 16:11:00,994 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-02 16:11:01,204 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 16:11:01,204 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 16:11:01,502 - INFO - Snowflake connection initialized
2025-05-02 16:11:03,855 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-02 16:13:50,601 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 16:13:50,602 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 16:13:50,602 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 16:13:50,602 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 16:13:50,602 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 16:13:50,603 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 16:13:51,119 - INFO - Snowflake connection initialized
2025-05-02 16:13:52,033 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-02 16:13:52,307 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-02 16:14:11,151 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 16:14:11,166 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the oee' pertains specifically to OEE (Overall Equipment Effectiveness) metrics, which are recorded in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not provide relevant data for this query."}
2025-05-02 16:14:11,167 - INFO - User query: what is the oee , Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the oee' pertains specifically to OEE (Overall Equipment Effectiveness) metrics, which are recorded in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not provide relevant data for this query."}
2025-05-02 16:14:13,710 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-02 16:14:13,715 - INFO - Generated 1 embeddings
2025-05-02 16:14:14,043 - INFO - Retrieved 3 relevant contexts for query: what is the oee ...
2025-05-02 16:14:15,048 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 16:14:15,055 - INFO - RAG response for query 'what is the oee ': I'm having trouble understanding that request. Could you please rephrase your question?...
2025-05-02 16:14:15,863 - INFO - Query/response logged to Snowflake: query_id=q-6cfee82c-e969-487e-9bac-0d5f894b2acf
2025-05-02 16:14:31,895 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 16:14:31,907 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is OEE' pertains to Overall Equipment Effectiveness, which is specifically covered by the OEESHIFTWISE_AI table that contains shift-level OEE performance data. The MACHINE_ACCESS_INFO_AI table, on the other hand, relates to access information and is not relevant to the query."}
2025-05-02 16:14:31,909 - INFO - User query: what is OEE, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is OEE' pertains to Overall Equipment Effectiveness, which is specifically covered by the OEESHIFTWISE_AI table that contains shift-level OEE performance data. The MACHINE_ACCESS_INFO_AI table, on the other hand, relates to access information and is not relevant to the query."}
2025-05-02 16:14:33,353 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-02 16:14:33,358 - INFO - Generated 1 embeddings
2025-05-02 16:14:33,690 - INFO - Retrieved 3 relevant contexts for query: what is OEE...
2025-05-02 16:14:41,249 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 16:14:41,255 - INFO - RAG response for query 'what is OEE': It seems you might be asking about the definition of OEE (Overall Equipment Effectiveness).

**OEE**...
2025-05-02 16:14:42,183 - INFO - Query/response logged to Snowflake: query_id=q-6c6afba4-83ed-4b7b-b448-a266b8dbecc5
2025-05-02 16:15:51,127 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 16:15:51,127 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 16:15:51,127 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 16:15:51,127 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 16:15:51,128 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 16:15:51,128 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 16:15:51,713 - INFO - Snowflake connection initialized
2025-05-02 16:15:52,788 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-02 16:15:53,047 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-02 17:11:50,675 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 17:11:50,675 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 17:11:50,675 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 17:11:50,676 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 17:11:50,677 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 17:11:50,678 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 17:11:54,262 - INFO - Snowflake connection initialized
2025-05-02 17:11:57,487 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 17:11:57,488 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 17:11:57,488 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 17:11:57,489 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 17:11:57,489 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 17:11:57,490 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 17:11:59,799 - INFO - Snowflake connection initialized
2025-05-02 17:12:09,334 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-02 17:12:20,726 - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='hlvnivsfcb1stg.blob.core.windows.net', port=443): Read timed out. (read timeout=7)")': /results/01bc0ebf-0000-85ac-0000-74fd00a5f74e_0%2Fmain%2Fdata_0_0_0_1?sv=2021-04-10&se=2025-05-03T06%3A12%3A11Z&skoid=a3b6ab88-c688-41c0-9536-b40b59f6fb89&sktid=e99fddda-f4fb-448f-abd1-a50f8f64043a&skt=2025-04-30T19%3A32%3A05Z&ske=2025-05-07T19%3A31%3A05Z&sks=b&skv=2021-04-10&sr=b&sp=r&sig=****&rsce=gzip
2025-05-02 17:12:26,482 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-02 17:12:50,548 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-02 17:12:50,548 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-02 17:12:50,549 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-02 17:12:50,550 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-02 17:12:50,550 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-02 17:12:50,551 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-02 17:12:50,991 - INFO - Snowflake connection initialized
2025-05-02 17:12:52,164 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-02 17:12:54,128 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-03 05:40:31,881 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-03 05:40:31,881 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-03 05:40:31,881 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-03 05:40:31,881 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-03 05:40:31,882 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 05:40:31,882 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 05:40:33,538 - INFO - Snowflake connection initialized
2025-05-03 05:40:34,772 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-03 05:40:35,184 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-03 05:42:14,457 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-03 05:42:14,457 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-03 05:42:14,457 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-03 05:42:14,458 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-03 05:42:14,458 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 05:42:14,459 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 05:42:15,015 - INFO - Snowflake connection initialized
2025-05-03 05:42:16,048 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-03 05:42:16,389 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-03 05:43:35,896 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-03 05:43:35,897 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-03 05:43:35,897 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-03 05:43:35,898 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-03 05:43:35,898 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 05:43:35,899 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 05:43:36,284 - INFO - Snowflake connection initialized
2025-05-03 05:43:38,162 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-03 05:43:38,461 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-03 05:47:40,752 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-03 05:47:40,752 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-03 05:47:40,753 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-03 05:47:40,753 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-03 05:47:40,754 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 05:47:40,754 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 05:47:41,374 - INFO - Snowflake connection initialized
2025-05-03 05:47:42,438 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-03 05:47:42,746 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-03 05:48:14,152 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 05:48:14,156 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the total count of plants, which is related to access information for machines or plantcodes. The OEESHIFTWISE_AI table does not directly address the count of plants, instead focusing on performance metrics."}
2025-05-03 05:48:14,158 - INFO - User query: how many total plants are , Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the total count of plants, which is related to access information for machines or plantcodes. The OEESHIFTWISE_AI table does not directly address the count of plants, instead focusing on performance metrics."}
2025-05-03 05:48:15,479 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-03 05:48:15,486 - INFO - Generated 1 embeddings
2025-05-03 05:48:16,421 - INFO - Retrieved 3 relevant contexts for query: how many total plants are ...
2025-05-03 05:48:18,961 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 05:48:18,965 - INFO - RAG response for query 'how many total plants are ': To determine the total number of plants, I'll write a SQL query tailored to your access permissions....
2025-05-03 05:48:19,314 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS TOTAL_PLANTS
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' AND PLANTCODE = 'O-2372838648201';
2025-05-03 05:48:20,972 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 05:48:20,984 - INFO - NLP summary generated: The SQL query results indicate that there is a tot...
2025-05-03 05:48:24,390 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 05:48:24,400 - INFO - Visualization type determined: none
2025-05-03 05:48:24,917 - INFO - Query/response logged to Snowflake: query_id=q-117c9ff7-e4e8-4dee-aa4f-3bfe2c160fdf
2025-05-03 23:27:53,364 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-03 23:27:53,371 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-03 23:27:53,372 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-03 23:27:53,373 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-03 23:27:53,373 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 23:27:53,374 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 23:27:55,913 - INFO - Snowflake connection initialized
2025-05-03 23:27:59,872 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-03 23:28:00,183 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-03 23:28:00,311 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 23:28:00,312 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 23:28:00,580 - INFO - Snowflake connection initialized
2025-05-03 23:28:02,808 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-03 23:28:03,311 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 23:28:03,311 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 23:28:03,558 - INFO - Snowflake connection initialized
2025-05-03 23:28:06,098 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-03 23:51:49,752 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-03 23:51:49,753 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-03 23:51:49,753 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-03 23:51:49,754 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-03 23:51:49,755 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 23:51:49,756 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 23:51:50,785 - INFO - Snowflake connection initialized
2025-05-03 23:51:51,662 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-03 23:51:51,937 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-03 23:55:17,194 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-03 23:55:17,194 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-03 23:55:17,194 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-03 23:55:17,195 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-03 23:55:17,195 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-03 23:55:17,196 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-03 23:55:18,021 - INFO - Snowflake connection initialized
2025-05-03 23:55:18,983 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-03 23:55:19,294 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 00:00:16,114 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:00:16,130 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically covered by the OEESHIFTWISE_AI table that contains shift-level OEE performance data and related metrics. The MACHINE_ACCESS_INFO_AI table is not relevant to the query as it focuses on machine access information rather than OEE performance."}
2025-05-04 00:00:16,132 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically covered by the OEESHIFTWISE_AI table that contains shift-level OEE performance data and related metrics. The MACHINE_ACCESS_INFO_AI table is not relevant to the query as it focuses on machine access information rather than OEE performance."}
2025-05-04 00:00:16,548 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 00:00:16,555 - INFO - Generated 1 embeddings
2025-05-04 00:00:17,519 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 00:00:21,739 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:00:21,744 - INFO - RAG response for query 'what is oee': OEE (Overall Equipment Effectiveness) is a performance metric used in manufacturing to evaluate how ...
2025-05-04 00:00:22,607 - INFO - Query/response logged to Snowflake: query_id=q-a129a810-974f-425b-823b-ce5370ce2efe
2025-05-04 00:07:55,527 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 00:07:55,527 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 00:07:55,527 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 00:07:55,528 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 00:07:55,529 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:07:55,529 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:07:56,816 - INFO - Snowflake connection initialized
2025-05-04 00:07:58,102 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 00:07:58,386 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 00:08:13,327 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 00:08:13,327 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 00:08:13,327 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 00:08:13,329 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 00:08:13,330 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:08:13,330 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:08:15,250 - INFO - Snowflake connection initialized
2025-05-04 00:08:16,817 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 00:08:17,213 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 00:10:56,136 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 00:10:56,136 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 00:10:56,136 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 00:10:56,136 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 00:10:56,137 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:10:56,137 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:10:56,559 - INFO - Snowflake connection initialized
2025-05-04 00:10:58,463 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 00:10:58,781 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 00:12:12,621 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 00:12:12,622 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 00:12:12,622 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 00:12:12,622 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 00:12:12,622 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:12:12,623 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:12:12,972 - INFO - Snowflake connection initialized
2025-05-04 00:12:13,917 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 00:12:14,236 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 00:12:38,526 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:12:38,532 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the oee' directly pertains to Overall Equipment Effectiveness (OEE), which is specifically covered in the OEESHIFTWISE_AI table that includes shift-level OEE performance data."}
2025-05-04 00:12:38,534 - INFO - User query: what is the oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the oee' directly pertains to Overall Equipment Effectiveness (OEE), which is specifically covered in the OEESHIFTWISE_AI table that includes shift-level OEE performance data."}
2025-05-04 00:12:39,167 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 00:12:39,172 - INFO - Generated 1 embeddings
2025-05-04 00:12:40,440 - INFO - Retrieved 3 relevant contexts for query: what is the oee...
2025-05-04 00:12:45,368 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:12:45,372 - INFO - RAG response for query 'what is the oee': You haven't specified what information you're looking for regarding "OEE." However, if you're intere...
2025-05-04 00:12:45,825 - INFO - Query/response logged to Snowflake: query_id=q-12614e16-fe3f-45aa-bc20-5052fb8b650b
2025-05-04 00:13:28,579 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:13:28,584 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query requests information about OEE (Overall Equipment Effectiveness) specifically for March 2025, which directly relates to shift-level OEE performance data available in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to this query as it does not pertain to OEE metrics.'}
2025-05-04 00:13:28,586 - INFO - User query: what is the oee against march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query requests information about OEE (Overall Equipment Effectiveness) specifically for March 2025, which directly relates to shift-level OEE performance data available in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to this query as it does not pertain to OEE metrics.'}
2025-05-04 00:13:28,983 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 00:13:28,988 - INFO - Generated 1 embeddings
2025-05-04 00:13:30,250 - INFO - Retrieved 3 relevant contexts for query: what is the oee against march 2025...
2025-05-04 00:13:37,212 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:13:37,218 - INFO - RAG response for query 'what is the oee against march 2025': To get the OEE for March 2025, you can use the following SQL query. This query calculates the Overal...
2025-05-04 00:13:37,598 - INFO - Executed and cached query: SELECT AVG(OEE) AS Average_OEE
FROM OEESHIFTWISE_AI oee
JOIN MACHINE_ACCESS_INFO_AI machine
ON oee.PUID = machine.PUID
WHERE machine.USER_CODE = 'A-1704902113649'
  AND machine.PLANTCODE = 'O-2372838648201'
  AND DATE >= '2025-03-01' 
  AND DATE < '2025-04-01'
2025-05-04 00:13:39,231 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:13:39,237 - INFO - NLP summary generated: The overall equipment effectiveness (OEE) for Marc...
2025-05-04 00:13:43,354 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:13:43,358 - INFO - Visualization type determined: bar
2025-05-04 00:13:43,869 - INFO - Query/response logged to Snowflake: query_id=q-2810a6ef-35bc-4723-a3ab-39e3b99256b7
2025-05-04 00:14:25,949 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 00:14:25,950 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 00:14:25,950 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 00:14:25,951 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 00:14:25,951 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:14:25,952 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:14:26,575 - INFO - Snowflake connection initialized
2025-05-04 00:14:27,533 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 00:14:27,821 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 00:16:10,812 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:16:10,817 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query asks for details about the 'top 10 ee' (which likely refers to OEE or 'Overall Equipment Effectiveness') for the month of March 2025. This information is related to shift-level OEE performance data, which is provided in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to the query as it does not pertain to OEE performance or metrics."}
2025-05-04 00:16:10,819 - INFO - User query: give me the detail of top 10 ee of month march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query asks for details about the 'top 10 ee' (which likely refers to OEE or 'Overall Equipment Effectiveness') for the month of March 2025. This information is related to shift-level OEE performance data, which is provided in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to the query as it does not pertain to OEE performance or metrics."}
2025-05-04 00:16:12,143 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 00:16:12,149 - INFO - Generated 1 embeddings
2025-05-04 00:16:12,876 - INFO - Retrieved 3 relevant contexts for query: give me the detail of top 10 ee of month march 202...
2025-05-04 00:16:13,967 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:16:13,970 - INFO - RAG response for query 'give me the detail of top 10 ee of month march 2025': I'm having trouble understanding that request. Could you please rephrase your question?...
2025-05-04 00:16:14,438 - INFO - Query/response logged to Snowflake: query_id=q-0157162c-edca-458c-b3e2-0a1990eb61f3
2025-05-04 00:17:03,393 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:17:03,396 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for details related to OEE (Overall Equipment Effectiveness) for the month of March 2025, which pertains to performance metrics that are recorded in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not relate directly to OEE data.'}
2025-05-04 00:17:03,397 - INFO - User query: give me the detail of top 10 oee of month march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for details related to OEE (Overall Equipment Effectiveness) for the month of March 2025, which pertains to performance metrics that are recorded in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not relate directly to OEE data.'}
2025-05-04 00:17:04,769 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 00:17:04,775 - INFO - Generated 1 embeddings
2025-05-04 00:17:05,678 - INFO - Retrieved 3 relevant contexts for query: give me the detail of top 10 oee of month march 20...
2025-05-04 00:17:12,975 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:17:12,979 - INFO - RAG response for query 'give me the detail of top 10 oee of month march 2025': To retrieve the details of the top 10 OEE for the month of March 2025, I'll create a SQL query that ...
2025-05-04 00:17:13,263 - INFO - Executed and cached query: SELECT 
    o.ID, 
    o.SHIFT_ID, 
    o.PUID, 
    o.MACHINE, 
    o.LINE, 
    o.PLANT, 
    o.GROUPNAME, 
    o.DATE, 
    o.SHIFTSTARTTIME, 
    o.SHIFTENDTIME, 
    o.SHIFTDESC, 
    o.OEE, 
    o.AVAILABILITYRATE, 
    o.PERFORMANCERATE, 
    o.QUALITYRATE, 
    o.GROSSPRODUCE, 
    o.IDEALPRODUCE, 
    o.RUNINGTIME, 
    o.IDEALTIME, 
    o.QUALITYGROSSPRODUCE, 
    o.QUALITYIDEALPRODUCE, 
    o.WASTE
FROM 
    OEESHIFTWISE_AI o
JOIN 
    MACHINE_ACCESS_INFO_AI m ON o.PUID = m.PUID
WHERE 
    m.USER_CODE = 'A-1704902113649' 
    AND m.PLANTCODE = 'O-2372838648201'
    AND o.DATE >= '2025-03-01' 
    AND o.DATE < '2025-04-01'
ORDER BY 
    o.OEE DESC
LIMIT 10;
2025-05-04 00:17:13,709 - INFO - Query/response logged to Snowflake: query_id=q-7f457145-7685-4064-95dc-4e2d961bb7e0
2025-05-04 00:22:30,807 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 00:22:30,807 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 00:22:30,807 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 00:22:30,807 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 00:22:30,807 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:22:30,808 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:22:31,423 - INFO - Snowflake connection initialized
2025-05-04 00:22:31,943 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 00:22:32,700 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 00:22:32,732 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:22:32,733 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:22:33,185 - INFO - Snowflake connection initialized
2025-05-04 00:22:35,514 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-04 00:25:10,052 - INFO - User query: what is the oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the oee' directly pertains to Overall Equipment Effectiveness (OEE), which is specifically covered in the OEESHIFTWISE_AI table that includes shift-level OEE performance data."}
2025-05-04 00:25:10,563 - INFO - Retrieved 3 relevant contexts for query: what is the oee...
2025-05-04 00:25:14,322 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:25:14,326 - INFO - RAG response for query 'what is the oee': It seems like you're asking for the Overall Equipment Effectiveness (OEE) data, but the way you've f...
2025-05-04 00:25:14,795 - INFO - Query/response logged to Snowflake: query_id=q-b30107d6-7947-4f50-af91-886f5ebec55f
2025-05-04 00:28:21,799 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:28:21,828 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query specifically requests details about the 'top 10 oee' (Overall Equipment Effectiveness) for a particular month (March 2025), which directly relates to the shift-level OEE performance data found in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics and therefore is not relevant to this query."}
2025-05-04 00:28:21,829 - INFO - User query: give me the detail for the top 10 oee for the month of march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query specifically requests details about the 'top 10 oee' (Overall Equipment Effectiveness) for a particular month (March 2025), which directly relates to the shift-level OEE performance data found in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics and therefore is not relevant to this query."}
2025-05-04 00:28:22,751 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 00:28:22,754 - INFO - Generated 1 embeddings
2025-05-04 00:28:24,154 - INFO - Retrieved 3 relevant contexts for query: give me the detail for the top 10 oee for the mont...
2025-05-04 00:28:30,928 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:28:30,932 - INFO - RAG response for query 'give me the detail for the top 10 oee for the month of march 2025': To fetch the details of the top 10 OEE for the month of March 2025, you can use the following SQL qu...
2025-05-04 00:28:32,602 - INFO - Executed and cached query: SELECT 
    oe.ID,
    oe.SHIFT_ID,
    oe.PUID,
    oe.MACHINE,
    oe.LINE,
    oe.PLANT,
    oe.GROUPNAME,
    oe.DATE,
    oe.SHIFTSTARTTIME,
    oe.SHIFTENDTIME,
    oe.SHIFTDESC,
    oe.OEE,
    oe.AVAILABILITYRATE,
    oe.PERFORMANCERATE,
    oe.QUALITYRATE,
    oe.GROSSPRODUCE,
    oe.IDEALPRODUCE,
    oe.RUNINGTIME,
    oe.IDEALTIME,
    oe.QUALITYGROSSPRODUCE,
    oe.QUALITYIDEALPRODUCE,
    oe.WASTE
FROM 
    OEESHIFTWISE_AI oe
INNER JOIN 
    MACHINE_ACCESS_INFO_AI ma ON oe.PUID = ma.PUID
WHERE 
    ma.USER_CODE = 'A-1704902113649' 
    AND ma.PLANTCODE = 'O-2372838648201'
    AND oe.DATE >= '2025-03-01' 
    AND oe.DATE < '2025-04-01'
ORDER BY 
    oe.OEE DESC
LIMIT 10;
2025-05-04 00:28:34,718 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:28:34,722 - INFO - NLP summary generated: The top 10 Overall Equipment Efficiency (OEE) reco...
2025-05-04 00:28:37,585 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 00:28:37,592 - INFO - Visualization type determined: bar
2025-05-04 00:28:44,861 - INFO - Visualization created: bar
2025-05-04 00:28:45,341 - INFO - Query/response logged to Snowflake: query_id=q-5092c7d7-c34c-403d-a5e7-efe4e614239c
2025-05-04 00:31:05,651 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 00:31:05,651 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 00:31:05,651 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 00:31:05,652 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 00:31:05,652 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:31:05,652 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:31:06,037 - INFO - Snowflake connection initialized
2025-05-04 00:31:07,037 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 00:31:07,738 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 00:31:07,890 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 00:31:07,890 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 00:31:08,219 - INFO - Snowflake connection initialized
2025-05-04 00:31:10,620 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-04 01:30:03,656 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 01:30:03,657 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 01:30:03,657 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 01:30:03,658 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 01:30:03,661 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:30:03,662 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:30:04,075 - INFO - Snowflake connection initialized
2025-05-04 01:30:05,139 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 01:30:05,412 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 01:30:05,525 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:30:05,526 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:30:05,857 - INFO - Snowflake connection initialized
2025-05-04 01:30:08,312 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-04 01:30:08,813 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:30:08,814 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:30:09,409 - INFO - Snowflake connection initialized
2025-05-04 01:30:13,597 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-04 01:31:07,788 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:31:07,789 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains specifically to OEE (Overall Equipment Effectiveness), which is a performance metric that is related to shift-level data as provided in the OEESHIFTWISE_AI table."}
2025-05-04 01:31:07,790 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains specifically to OEE (Overall Equipment Effectiveness), which is a performance metric that is related to shift-level data as provided in the OEESHIFTWISE_AI table."}
2025-05-04 01:31:08,606 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 01:31:08,609 - INFO - Generated 1 embeddings
2025-05-04 01:31:09,047 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 01:31:13,829 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:31:13,832 - INFO - RAG response for query 'what is oee': OEE (Overall Equipment Effectiveness) is a key performance indicator used to measure the efficiency ...
2025-05-04 01:31:14,310 - INFO - Query/response logged to Snowflake: query_id=q-781ae687-b602-4de6-aa23-06f8218e0d03
2025-05-04 01:31:47,194 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:31:47,198 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is plants' is likely concerned with information related to plant codes or access information, which is covered by the MACHINE_ACCESS_INFO_AI table. The OEESHIFTWISE_AI table pertains to OEE performance data, which is not directly relevant to the query."}
2025-05-04 01:31:47,200 - INFO - User query: what is plants, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is plants' is likely concerned with information related to plant codes or access information, which is covered by the MACHINE_ACCESS_INFO_AI table. The OEESHIFTWISE_AI table pertains to OEE performance data, which is not directly relevant to the query."}
2025-05-04 01:31:48,137 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 01:31:48,140 - INFO - Generated 1 embeddings
2025-05-04 01:31:48,926 - INFO - Retrieved 3 relevant contexts for query: what is plants...
2025-05-04 01:31:55,099 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:31:55,103 - INFO - RAG response for query 'what is plants': To provide you with information about the total number of plants, I will query the `MACHINE_ACCESS_I...
2025-05-04 01:31:55,384 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' AND PLANTCODE = 'O-2372838648201';
2025-05-04 01:31:57,792 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:31:57,795 - INFO - NLP summary generated: The query results indicate that there is a total o...
2025-05-04 01:32:05,344 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:32:05,368 - INFO - Visualization type determined: bar
2025-05-04 01:32:05,867 - INFO - Query/response logged to Snowflake: query_id=q-cbfe176d-d941-4a85-bb7b-c997c7c24ff3
2025-05-04 01:32:16,858 - INFO - Chat history cleared from Snowflake
2025-05-04 01:42:59,895 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 01:42:59,895 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 01:42:59,895 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 01:42:59,895 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 01:42:59,896 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:42:59,896 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:43:00,366 - INFO - Snowflake connection initialized
2025-05-04 01:43:01,852 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 01:43:02,160 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 01:43:17,519 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 01:43:17,520 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 01:43:17,520 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 01:43:17,520 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 01:43:17,520 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:43:17,521 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:43:17,907 - INFO - Snowflake connection initialized
2025-05-04 01:43:18,733 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 01:43:19,020 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 01:43:27,496 - INFO - Chat history cleared from Snowflake
2025-05-04 01:43:33,781 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains specifically to OEE (Overall Equipment Effectiveness), which is a performance metric that is related to shift-level data as provided in the OEESHIFTWISE_AI table."}
2025-05-04 01:43:34,060 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 01:43:39,622 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:43:39,626 - INFO - RAG response for query 'what is oee': Overall Equipment Effectiveness (OEE) is a key performance indicator used in manufacturing to assess...
2025-05-04 01:43:40,066 - INFO - Query/response logged to Snowflake: query_id=q-9fde66d6-2dff-4fb9-94e6-df9570590060
2025-05-04 01:43:59,475 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:43:59,478 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains to overall equipment effectiveness (OEE), which is specifically related to shift-level OEE performance data described in the OEESHIFTWISE_AI table."}
2025-05-04 01:43:59,479 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains to overall equipment effectiveness (OEE), which is specifically related to shift-level OEE performance data described in the OEESHIFTWISE_AI table."}
2025-05-04 01:43:59,970 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 01:43:59,974 - INFO - Generated 1 embeddings
2025-05-04 01:44:00,323 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 01:44:03,358 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:44:03,369 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE from the table while adhering to your access controls, you can use the follo...
2025-05-04 01:44:03,870 - INFO - Executed and cached query: SELECT MAX(OEE) AS MAX_OEE 
FROM OEESHIFTWISE_AI
INNER JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 01:44:05,584 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:44:05,589 - INFO - NLP summary generated: The maximum Overall Equipment Efficiency (OEE) rec...
2025-05-04 01:44:07,518 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:44:07,522 - INFO - Visualization type determined: none
2025-05-04 01:44:08,739 - INFO - Query/response logged to Snowflake: query_id=q-0a15d5ec-ed6b-4563-8650-45940112f515
2025-05-04 01:44:56,886 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 01:44:56,886 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 01:44:56,886 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 01:44:56,886 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 01:44:56,887 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:44:56,887 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:44:57,320 - INFO - Snowflake connection initialized
2025-05-04 01:44:58,326 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 01:44:58,614 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 01:46:40,404 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 01:46:40,404 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 01:46:40,404 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 01:46:40,404 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 01:46:40,404 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:46:40,405 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:46:41,186 - INFO - Snowflake connection initialized
2025-05-04 01:46:56,491 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 01:46:56,965 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 01:47:07,490 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 01:47:07,491 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 01:47:07,491 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 01:47:07,491 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 01:47:07,491 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:47:07,491 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:47:07,860 - INFO - Snowflake connection initialized
2025-05-04 01:47:08,597 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 01:47:08,883 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 01:47:22,342 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:47:22,345 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to information about plants, which is represented in the MACHINE_ACCESS_INFO_AI table that contains access information for machines and plant codes. The OEESHIFTWISE_AI table does not directly relate to the total number of plants as it focuses on shift-level OEE performance data."}
2025-05-04 01:47:22,346 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to information about plants, which is represented in the MACHINE_ACCESS_INFO_AI table that contains access information for machines and plant codes. The OEESHIFTWISE_AI table does not directly relate to the total number of plants as it focuses on shift-level OEE performance data."}
2025-05-04 01:47:23,600 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 01:47:23,604 - INFO - Generated 1 embeddings
2025-05-04 01:47:23,938 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 01:47:26,653 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:47:26,658 - INFO - RAG response for query 'how many total plants are': To find the total number of plants, you can use the following SQL query. This will count distinct pl...
2025-05-04 01:47:26,901 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' 
  AND PLANTCODE = 'O-2372838648201' 
  AND IS_DELETED = False;
2025-05-04 01:47:28,794 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:47:28,799 - INFO - NLP summary generated: The query results indicate that there is a total o...
2025-05-04 01:47:31,134 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:47:31,135 - INFO - Visualization type determined: none
2025-05-04 01:47:31,552 - INFO - Query/response logged to Snowflake: query_id=q-1d854cc5-6dc2-4f5f-9518-9b3a93c9e257
2025-05-04 01:48:37,757 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 01:48:37,758 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 01:48:37,758 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 01:48:37,758 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 01:48:37,758 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:48:37,758 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:48:38,479 - INFO - Snowflake connection initialized
2025-05-04 01:48:39,531 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 01:48:39,838 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 01:49:10,238 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:49:10,241 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee in 2025' specifically pertains to OEE (Overall Equipment Efficiency) performance metrics, which is relevant to the OEESHIFTWISE_AI table that contains shift-level OEE performance data. The MACHINE_ACCESS_INFO_AI table, which deals with machine or plantcode access information, does not directly relate to the query about OEE."}
2025-05-04 01:49:10,242 - INFO - User query: what is oee in 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee in 2025' specifically pertains to OEE (Overall Equipment Efficiency) performance metrics, which is relevant to the OEESHIFTWISE_AI table that contains shift-level OEE performance data. The MACHINE_ACCESS_INFO_AI table, which deals with machine or plantcode access information, does not directly relate to the query about OEE."}
2025-05-04 01:49:11,413 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 01:49:11,418 - INFO - Generated 1 embeddings
2025-05-04 01:49:11,761 - INFO - Retrieved 3 relevant contexts for query: what is oee in 2025...
2025-05-04 01:49:15,314 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:49:15,321 - INFO - RAG response for query 'what is oee in 2025': To retrieve the Overall Equipment Effectiveness (OEE) data for the year 2025, I'll create a SQL quer...
2025-05-04 01:49:16,224 - INFO - Executed and cached query: SELECT OEE, DATE
FROM O3_AI_DB.O3_AI_DB_SCHEMA.OEESHIFTWISE_AI AS oee
INNER JOIN O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI AS machine_access
ON oee.PUID = machine_access.PUID
WHERE machine_access.USER_CODE = 'A-1704902113649'
AND machine_access.PLANTCODE = 'O-2372838648201'
AND YEAR(oee.DATE) = 2025;
2025-05-04 01:49:18,261 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:49:18,266 - INFO - NLP summary generated: In 2025, the Overall Equipment Effectiveness (OEE)...
2025-05-04 01:49:21,404 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:49:21,409 - INFO - Visualization type determined: line
2025-05-04 01:49:21,885 - INFO - Visualization created: line
2025-05-04 01:49:22,339 - INFO - Query/response logged to Snowflake: query_id=q-a7ffbb4f-5b8f-4a9d-ba34-cdd308754bd6
2025-05-04 01:49:34,050 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to information about plants, which is represented in the MACHINE_ACCESS_INFO_AI table that contains access information for machines and plant codes. The OEESHIFTWISE_AI table does not directly relate to the total number of plants as it focuses on shift-level OEE performance data."}
2025-05-04 01:49:34,371 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 01:49:37,606 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:49:38,154 - INFO - RAG response for query 'how many total plants are': To determine the total number of plants, you would typically want to count distinct plant identifier...
2025-05-04 01:49:38,439 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS TOTAL_PLANTS
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' 
  AND PLANTCODE = 'O-2372838648201';
2025-05-04 01:49:40,742 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:49:40,743 - INFO - NLP summary generated: The SQL query results indicate that there is a tot...
2025-05-04 01:49:43,499 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 01:49:43,504 - INFO - Visualization type determined: none
2025-05-04 01:49:43,985 - INFO - Query/response logged to Snowflake: query_id=q-4a52b5cb-3924-4bf4-973d-90bac327010b
2025-05-04 01:49:52,771 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 01:49:52,771 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 01:49:52,771 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 01:49:52,772 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 01:49:52,772 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 01:49:52,772 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 01:49:55,402 - INFO - Snowflake connection initialized
2025-05-04 01:49:57,222 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 01:49:57,534 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:05:16,701 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:05:16,702 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:05:16,702 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:05:16,702 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:05:16,702 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:05:16,703 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:05:17,296 - INFO - Snowflake connection initialized
2025-05-04 02:05:18,169 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:05:18,445 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:06:30,825 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:06:30,826 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:06:30,826 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:06:30,826 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:06:30,826 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:06:30,826 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:06:31,178 - INFO - Snowflake connection initialized
2025-05-04 02:06:32,058 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:06:32,343 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:09:37,434 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:09:37,434 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:09:37,434 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:09:37,434 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:09:37,435 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:09:37,435 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:09:37,805 - INFO - Snowflake connection initialized
2025-05-04 02:09:38,620 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:09:38,900 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:09:47,621 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains to overall equipment effectiveness (OEE), which is specifically related to shift-level OEE performance data described in the OEESHIFTWISE_AI table."}
2025-05-04 02:09:47,918 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 02:09:52,407 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:09:52,412 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE, we can construct a SQL query based on the conditions and filters you've spe...
2025-05-04 02:09:52,709 - INFO - Executed and cached query: SELECT MAX(OEE) AS MAX_OEE
FROM OEESHIFTWISE_AI
JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 02:09:54,098 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:09:54,102 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 02:09:57,297 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:09:57,301 - INFO - Visualization type determined: none
2025-05-04 02:09:57,746 - INFO - Query/response logged to Snowflake: query_id=q-0a25e336-404a-4101-89c7-8853ddddcc46
2025-05-04 02:10:06,146 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to information about plants, which is represented in the MACHINE_ACCESS_INFO_AI table that contains access information for machines and plant codes. The OEESHIFTWISE_AI table does not directly relate to the total number of plants as it focuses on shift-level OEE performance data."}
2025-05-04 02:10:06,453 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 02:10:09,563 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:10:09,567 - INFO - RAG response for query 'how many total plants are': To determine the total number of plants based on your access level, you can run the following SQL qu...
2025-05-04 02:10:09,762 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' 
AND PLANTCODE = 'O-2372838648201';
2025-05-04 02:10:12,012 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:10:12,015 - INFO - NLP summary generated: The query results indicate that there is a total o...
2025-05-04 02:10:15,032 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:10:15,039 - INFO - Visualization type determined: none
2025-05-04 02:10:15,613 - INFO - Query/response logged to Snowflake: query_id=q-fa394065-0d42-4fdf-a203-1f472c785192
2025-05-04 02:10:21,142 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:10:21,142 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:10:21,142 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:10:21,143 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:10:21,143 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:10:21,143 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:10:22,331 - INFO - Snowflake connection initialized
2025-05-04 02:10:25,536 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:10:25,830 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:11:13,678 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:11:13,678 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:11:13,678 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:11:13,679 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:11:13,679 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:11:13,679 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:11:14,841 - INFO - Snowflake connection initialized
2025-05-04 02:11:19,640 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:11:20,236 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:11:34,240 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:11:34,240 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:11:34,240 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:11:34,240 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:11:34,241 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:11:34,241 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:11:34,838 - INFO - Snowflake connection initialized
2025-05-04 02:11:37,574 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:11:38,300 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:12:16,120 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains to overall equipment effectiveness (OEE), which is specifically related to shift-level OEE performance data described in the OEESHIFTWISE_AI table."}
2025-05-04 02:12:16,421 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 02:12:20,757 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:12:20,762 - INFO - RAG response for query 'what is the maximum oee': To retrieve the maximum OEE (Overall Equipment Effectiveness) for the accessible data under your use...
2025-05-04 02:12:21,075 - INFO - Executed and cached query: SELECT MAX(OEE) AS Maximum_OEE
FROM O3_AI_DB.O3_AI_DB_SCHEMA.OEESHIFTWISE_AI
INNER JOIN O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI
ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 02:12:22,668 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:12:22,674 - INFO - NLP summary generated: The maximum OEE (Overall Equipment Effectiveness) ...
2025-05-04 02:12:24,872 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:12:24,876 - INFO - Visualization type determined: none
2025-05-04 02:12:25,299 - INFO - Query/response logged to Snowflake: query_id=q-84f92c42-e11d-4888-9a5d-d9db92feb8f6
2025-05-04 02:20:07,091 - INFO - Token before decoding: [None]
2025-05-04 02:20:07,091 - ERROR - Error decoding JWT token: 'list' object has no attribute 'split'
2025-05-04 02:20:07,091 - ERROR - User authentication failed. Invalid token.
2025-05-04 02:20:07,793 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:20:07,793 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:20:08,440 - INFO - Snowflake connection initialized
2025-05-04 02:20:09,541 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:20:09,831 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:20:09,882 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:20:09,882 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:20:10,211 - INFO - Snowflake connection initialized
2025-05-04 02:20:12,611 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-04 02:20:12,792 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:20:12,792 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:20:13,069 - INFO - Snowflake connection initialized
2025-05-04 02:20:19,268 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-04 02:20:28,586 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:20:28,586 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:20:28,586 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:20:28,587 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:20:28,587 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:20:28,587 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:20:28,937 - INFO - Snowflake connection initialized
2025-05-04 02:20:29,816 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:20:30,109 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:20:40,985 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:20:41,000 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains specifically to Overall Equipment Effectiveness (OEE), which is a performance metric found in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 02:20:41,001 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains specifically to Overall Equipment Effectiveness (OEE), which is a performance metric found in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 02:20:41,548 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 02:20:41,553 - INFO - Generated 1 embeddings
2025-05-04 02:20:41,954 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 02:20:46,728 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:20:46,735 - INFO - RAG response for query 'what is oee': Overall Equipment Effectiveness (OEE) is a standard metric used in manufacturing to assess the effic...
2025-05-04 02:20:47,169 - INFO - Query/response logged to Snowflake: query_id=q-42e7cddb-b146-4519-b2ad-ee2e321833da
2025-05-04 02:20:53,711 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:20:53,711 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:20:53,712 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:20:53,712 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:20:53,712 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:20:53,712 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:20:54,113 - INFO - Snowflake connection initialized
2025-05-04 02:20:55,067 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:20:55,360 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:25:18,712 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:25:18,712 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:25:18,712 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:25:18,712 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:25:18,713 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:25:18,713 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:25:19,394 - INFO - Snowflake connection initialized
2025-05-04 02:25:20,242 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:25:20,542 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:42:17,347 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:42:17,347 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:42:17,347 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:42:17,348 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:42:17,348 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:42:17,348 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:42:19,217 - INFO - Snowflake connection initialized
2025-05-04 02:42:25,256 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:42:25,738 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:42:43,873 - INFO - Chat history cleared from Snowflake
2025-05-04 02:42:56,178 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:42:56,181 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks for the maximum OEE, which directly relates to shift-level OEE performance data found in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics.'}
2025-05-04 02:42:56,181 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks for the maximum OEE, which directly relates to shift-level OEE performance data found in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics.'}
2025-05-04 02:42:56,608 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 02:42:56,609 - INFO - Generated 1 embeddings
2025-05-04 02:42:56,956 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 02:43:02,764 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:43:02,774 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE (Overall Equipment Effectiveness) for the user with the specified access con...
2025-05-04 02:43:02,993 - INFO - Executed and cached query: SELECT MAX(OEE) AS MAX_OEE
FROM OEESHIFTWISE_AI
INNER JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 02:43:05,326 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:43:05,342 - INFO - NLP summary generated: The maximum Overall Equipment Efficiency (OEE) rec...
2025-05-04 02:43:07,445 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:43:07,446 - INFO - Visualization type determined: none
2025-05-04 02:43:08,617 - INFO - Query/response logged to Snowflake: query_id=q-1a3075a2-360e-4ca3-878f-6a20f164676d
2025-05-04 02:43:28,260 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:43:28,266 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' refers specifically to plant-related information, which aligns with the MACHINE_ACCESS_INFO_AI table that contains access information related to machines and plant codes. The OEESHIFTWISE_AI table, focused on shift-level performance metrics, does not relate to the total number of plants."}
2025-05-04 02:43:28,266 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' refers specifically to plant-related information, which aligns with the MACHINE_ACCESS_INFO_AI table that contains access information related to machines and plant codes. The OEESHIFTWISE_AI table, focused on shift-level performance metrics, does not relate to the total number of plants."}
2025-05-04 02:43:29,023 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 02:43:29,046 - INFO - Generated 1 embeddings
2025-05-04 02:43:29,417 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 02:43:37,132 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:43:37,138 - INFO - RAG response for query 'how many total plants are': You can find the total number of distinct plants by querying the `MACHINE_ACCESS_INFO_AI` table. How...
2025-05-04 02:43:37,547 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649'
  AND PLANTCODE = 'O-2372838648201'
  AND IS_DELETED = FALSE;
2025-05-04 02:43:39,375 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:43:39,377 - INFO - NLP summary generated: The SQL query results indicate that there is a tot...
2025-05-04 02:43:41,824 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:43:41,841 - INFO - Visualization type determined: bar
2025-05-04 02:43:42,849 - INFO - Query/response logged to Snowflake: query_id=q-e879f84e-d250-4f18-aa00-77ee9ae6adcd
2025-05-04 02:46:19,154 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:46:19,154 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:46:19,154 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:46:19,155 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:46:19,155 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:46:19,158 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:46:23,549 - INFO - Snowflake connection initialized
2025-05-04 02:46:24,691 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:46:24,950 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:57:55,891 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:57:55,891 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:57:55,892 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:57:55,892 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:57:55,893 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:57:55,893 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:57:56,777 - INFO - Snowflake connection initialized
2025-05-04 02:57:57,707 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:57:57,959 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 02:58:55,901 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks for the maximum OEE, which directly relates to shift-level OEE performance data found in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics.'}
2025-05-04 02:58:56,468 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 02:59:01,489 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:59:01,491 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE (Overall Equipment Effectiveness) for the user's specified plant, you can ru...
2025-05-04 02:59:01,674 - INFO - Executed and cached query: SELECT MAX(CAST(OEE AS FLOAT)) AS MAX_OEE
FROM OEESHIFTWISE_AI
JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 02:59:03,572 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:59:03,587 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 02:59:06,669 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:59:06,736 - INFO - Visualization type determined: none
2025-05-04 02:59:07,144 - INFO - Query/response logged to Snowflake: query_id=q-dbccddff-1a88-4bee-9185-7f4ad6ffdfaf
2025-05-04 02:59:16,940 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' refers specifically to plant-related information, which aligns with the MACHINE_ACCESS_INFO_AI table that contains access information related to machines and plant codes. The OEESHIFTWISE_AI table, focused on shift-level performance metrics, does not relate to the total number of plants."}
2025-05-04 02:59:17,499 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 02:59:20,782 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:59:20,784 - INFO - RAG response for query 'how many total plants are': To determine the total number of unique plants in the database, given the user's access constraints,...
2025-05-04 02:59:20,967 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' 
  AND PLANTCODE = 'O-2372838648201';
2025-05-04 02:59:22,787 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:59:22,788 - INFO - NLP summary generated: The SQL query results indicate that there is a tot...
2025-05-04 02:59:26,235 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 02:59:26,236 - INFO - Visualization type determined: bar
2025-05-04 02:59:27,554 - INFO - Query/response logged to Snowflake: query_id=q-10f020e7-7b2e-466b-a50a-65138a33f982
2025-05-04 02:59:52,022 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 02:59:52,022 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 02:59:52,022 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 02:59:52,023 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 02:59:52,024 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 02:59:52,024 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 02:59:52,423 - INFO - Snowflake connection initialized
2025-05-04 02:59:53,536 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 02:59:53,847 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 03:00:14,208 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains specifically to Overall Equipment Effectiveness (OEE), which is a performance metric found in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 03:00:14,799 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 03:00:22,759 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:00:22,768 - INFO - RAG response for query 'what is oee': OEE, or Overall Equipment Effectiveness, is a key performance indicator in manufacturing that measur...
2025-05-04 03:00:23,193 - INFO - Query/response logged to Snowflake: query_id=q-76356484-d3a3-43f4-bc19-c2957ba28e12
2025-05-04 03:00:51,821 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:00:51,826 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The user query is asking for the maximum Overall Equipment Effectiveness (OEE) for May 2025, which directly relates to performance data in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant as it deals with machine access information, not OEE metrics.'}
2025-05-04 03:00:51,827 - INFO - User query: what is max oee for may 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The user query is asking for the maximum Overall Equipment Effectiveness (OEE) for May 2025, which directly relates to performance data in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant as it deals with machine access information, not OEE metrics.'}
2025-05-04 03:00:52,698 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:00:52,702 - INFO - Generated 1 embeddings
2025-05-04 03:00:53,772 - INFO - Retrieved 3 relevant contexts for query: what is max oee for may 2025...
2025-05-04 03:00:57,407 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:00:57,411 - INFO - RAG response for query 'what is max oee for may 2025': To find the maximum OEE for May 2025, we can write a SQL query that filters the relevant data from t...
2025-05-04 03:00:57,602 - INFO - Executed and cached query: SELECT MAX(OEE) AS Max_OEE
FROM OEESHIFTWISE_AI
JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201'
  AND DATE >= '2025-05-01' AND DATE < '2025-06-01';
2025-05-04 03:00:59,402 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:00:59,407 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 03:01:04,090 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:01:04,094 - INFO - Visualization type determined: none
2025-05-04 03:01:04,616 - INFO - Query/response logged to Snowflake: query_id=q-718beb01-2da1-4975-9865-c3e6cf254ec9
2025-05-04 03:01:20,242 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:01:20,245 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'give me its details' is too vague and does not specify which table's details are being requested. Without further context or specific identifiers, it's not possible to determine the relevant table or tables."}
2025-05-04 03:01:20,247 - INFO - User query: give me its details, Intent: {'tables': [], 'reason': "The query 'give me its details' is too vague and does not specify which table's details are being requested. Without further context or specific identifiers, it's not possible to determine the relevant table or tables."}
2025-05-04 03:01:21,163 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:01:21,168 - INFO - Generated 1 embeddings
2025-05-04 03:01:22,697 - INFO - Retrieved 3 relevant contexts for query: give me its details...
2025-05-04 03:01:33,144 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:01:33,148 - INFO - RAG response for query 'give me its details': To retrieve the details of the maximum OEE for May 2025, I'll construct a SQL query that filters dat...
2025-05-04 03:01:33,539 - INFO - Executed and cached query: SELECT 
    es.ID,
    es.SHIFT_ID,
    es.PUID,
    es.MACHINE,
    es.LINE,
    es.PLANT,
    es.SHIFTDESC,
    es.OEE,
    es.AVAILABILITYRATE,
    es.PERFORMANCERATE,
    es.QUALITYRATE,
    es.GROSSPRODUCE,
    es.QUALITYGROSSPRODUCE,
    es.WASTE,
    es.DATE
FROM 
    OEESHIFTWISE_AI es
JOIN 
    MACHINE_ACCESS_INFO_AI ma ON es.PUID = ma.PUID
WHERE 
    ma.USER_CODE = 'A-1704902113649'
    AND ma.PLANTCODE = 'O-2372838648201'
    AND es.DATE >= '2025-05-01' AND es.DATE < '2025-06-01'
    AND es.OEE = 100  -- Assuming you want to find details where max OEE is 100
ORDER BY 
    es.DATE;
2025-05-04 03:01:36,655 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:01:36,665 - INFO - NLP summary generated: The query results reveal three production shifts a...
2025-05-04 03:01:43,283 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:01:43,293 - INFO - Visualization type determined: bar
2025-05-04 03:01:44,623 - INFO - Visualization created: bar
2025-05-04 03:01:45,108 - INFO - Query/response logged to Snowflake: query_id=q-c116020c-1ce3-44d9-b097-7e384e4a7e00
2025-05-04 03:02:01,062 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:02:01,081 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is plant' pertains to information that likely relates to plant access or identification, which fits within the MACHINE_ACCESS_INFO_AI table that includes plant codes. The OEESHIFTWISE_AI table is focused on shift-level performance data and does not relate to the user's request."}
2025-05-04 03:02:01,081 - INFO - User query: what is plant, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is plant' pertains to information that likely relates to plant access or identification, which fits within the MACHINE_ACCESS_INFO_AI table that includes plant codes. The OEESHIFTWISE_AI table is focused on shift-level performance data and does not relate to the user's request."}
2025-05-04 03:02:01,721 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:02:01,726 - INFO - Generated 1 embeddings
2025-05-04 03:02:02,277 - INFO - Retrieved 3 relevant contexts for query: what is plant...
2025-05-04 03:02:05,865 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:02:05,871 - INFO - RAG response for query 'what is plant': A plant in manufacturing refers to a facility or location where specific production activities occur...
2025-05-04 03:02:06,313 - INFO - Query/response logged to Snowflake: query_id=q-f6ebb7de-2722-4089-a6ca-6afda08435ef
2025-05-04 03:02:22,092 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:02:22,094 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'what is abdul' does not pertain to either OEESHIFTWISE_AI or MACHINE_ACCESS_INFO_AI. It does not ask for information related to shift-level OEE performance data or machine access information."}
2025-05-04 03:02:22,095 - INFO - User query: what is abdul, Intent: {'tables': [], 'reason': "The query 'what is abdul' does not pertain to either OEESHIFTWISE_AI or MACHINE_ACCESS_INFO_AI. It does not ask for information related to shift-level OEE performance data or machine access information."}
2025-05-04 03:02:23,115 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:02:23,121 - INFO - Generated 1 embeddings
2025-05-04 03:02:24,267 - INFO - Retrieved 3 relevant contexts for query: what is abdul...
2025-05-04 03:02:27,927 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:02:27,930 - INFO - RAG response for query 'what is abdul': It seems that you are asking about "Abdul," but the query does not provide enough context for me to ...
2025-05-04 03:02:28,574 - INFO - Query/response logged to Snowflake: query_id=q-9d65ee89-eeeb-407f-b1b1-9cadff718499
2025-05-04 03:02:58,651 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:02:58,655 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query pertains to 'max gross produce', which is a production metric related to OEE performance data. The reference to a specific month and year (May 2025) suggests a need for shift-level production data, which is provided by the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not relate to production metrics."}
2025-05-04 03:02:58,656 - INFO - User query: max gross produce for may 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query pertains to 'max gross produce', which is a production metric related to OEE performance data. The reference to a specific month and year (May 2025) suggests a need for shift-level production data, which is provided by the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not relate to production metrics."}
2025-05-04 03:02:59,539 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:02:59,866 - INFO - Generated 1 embeddings
2025-05-04 03:03:00,638 - INFO - Retrieved 3 relevant contexts for query: max gross produce for may 2025...
2025-05-04 03:03:05,100 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:03:05,103 - INFO - RAG response for query 'max gross produce for may 2025': Based on your request for the maximum gross produce for May 2025, I will formulate a SQL query to re...
2025-05-04 03:03:05,457 - INFO - Executed and cached query: SELECT MAX(CAST(GROSSPRODUCE AS FLOAT)) AS MAX_GROSS_PRODUCE
FROM OEESHIFTWISE_AI
JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649' 
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201' 
  AND OEESHIFTWISE_AI.DATE >= '2025-05-01' 
  AND OEESHIFTWISE_AI.DATE < '2025-06-01';
2025-05-04 03:03:07,768 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:03:07,772 - INFO - NLP summary generated: The maximum gross produce for May 2025 is 1,584,00...
2025-05-04 03:03:10,328 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:03:10,333 - INFO - Visualization type determined: none
2025-05-04 03:03:10,803 - INFO - Query/response logged to Snowflake: query_id=q-cde7ba2c-9201-4d58-b683-f347dbaeced2
2025-05-04 03:03:30,853 - INFO - User query: max gross produce for may 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query pertains to 'max gross produce', which is a production metric related to OEE performance data. The reference to a specific month and year (May 2025) suggests a need for shift-level production data, which is provided by the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not relate to production metrics."}
2025-05-04 03:03:31,378 - INFO - Retrieved 3 relevant contexts for query: max gross produce for may 2025...
2025-05-04 03:03:35,106 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:03:35,117 - INFO - RAG response for query 'max gross produce for may 2025': To retrieve the maximum gross produce for May 2025 given your access limitations, you can use the fo...
2025-05-04 03:03:35,487 - INFO - Executed and cached query: SELECT MAX(GROSSPRODUCE) AS MAX_GROSS_PRODUCE
FROM OEESHIFTWISE_AI
INNER JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201'
AND OEESHIFTWISE_AI.DATE >= '2025-05-01'
AND OEESHIFTWISE_AI.DATE < '2025-06-01';
2025-05-04 03:03:37,415 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:03:37,421 - INFO - NLP summary generated: The maximum gross produce recorded for May 2025 wa...
2025-05-04 03:03:41,250 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:03:41,253 - INFO - Visualization type determined: bar
2025-05-04 03:03:41,378 - INFO - Visualization created: bar
2025-05-04 03:03:41,851 - INFO - Query/response logged to Snowflake: query_id=q-a6704482-793d-457a-881d-3d3ab7449de8
2025-05-04 03:18:26,168 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 03:18:26,168 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 03:18:26,169 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 03:18:26,169 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 03:18:26,170 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 03:18:26,170 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 03:18:28,960 - INFO - Snowflake connection initialized
2025-05-04 03:18:34,868 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 03:18:35,328 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 03:18:54,962 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:18:56,281 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query specifically asks for 'oee' (Overall Equipment Effectiveness) data, which is directly related to the shift-level OEE performance data provided in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics."}
2025-05-04 03:18:56,281 - INFO - User query: what is the oee of march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query specifically asks for 'oee' (Overall Equipment Effectiveness) data, which is directly related to the shift-level OEE performance data provided in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics."}
2025-05-04 03:18:56,977 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:18:58,128 - INFO - Generated 1 embeddings
2025-05-04 03:18:58,726 - INFO - Retrieved 3 relevant contexts for query: what is the oee of march 2025...
2025-05-04 03:19:02,594 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:19:02,604 - INFO - RAG response for query 'what is the oee of march 2025': To get the OEE for March 2025, I can prepare a SQL query for you. Heres how you would look for that...
2025-05-04 03:19:03,176 - INFO - Executed and cached query: SELECT OEE
FROM OEESHIFTWISE_AI
JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201'
AND DATE >= '2025-03-01' AND DATE < '2025-04-01';
2025-05-04 03:19:05,230 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:19:05,232 - INFO - NLP summary generated: In March 2025, the Overall Equipment Effectiveness...
2025-05-04 03:19:07,831 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:19:07,834 - INFO - Visualization type determined: histogram
2025-05-04 03:19:08,569 - INFO - Query/response logged to Snowflake: query_id=q-636d8b7b-f327-44b6-9c53-fde097d7edd6
2025-05-04 03:19:38,792 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:19:38,793 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is their plant no' specifically pertains to obtaining information related to plant codes, which is covered under the MACHINE_ACCESS_INFO_AI table that includes plantcode access information."}
2025-05-04 03:19:38,794 - INFO - User query: what is their plant no, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is their plant no' specifically pertains to obtaining information related to plant codes, which is covered under the MACHINE_ACCESS_INFO_AI table that includes plantcode access information."}
2025-05-04 03:19:39,915 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:19:40,622 - INFO - Generated 1 embeddings
2025-05-04 03:19:41,158 - INFO - Retrieved 3 relevant contexts for query: what is their plant no...
2025-05-04 03:19:45,044 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:19:46,976 - INFO - RAG response for query 'what is their plant no': To retrieve the plant number related to your access, I will formulate an SQL query. According to you...
2025-05-04 03:19:47,939 - INFO - Executed and cached query: SELECT PLANT_ID, PLANT_NAME
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' AND PLANTCODE = 'O-2372838648201';
2025-05-04 03:19:50,749 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:19:51,709 - INFO - NLP summary generated: The plant number is O-2372838648201, and it is ass...
2025-05-04 03:19:54,868 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:19:54,869 - INFO - Visualization type determined: bar
2025-05-04 03:19:54,987 - INFO - Visualization created: bar
2025-05-04 03:19:55,912 - INFO - Query/response logged to Snowflake: query_id=q-b3cd0387-a662-4289-9683-02e2ec461b3d
2025-05-04 03:20:18,181 - INFO - User query: what is their plant no, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is their plant no' specifically pertains to obtaining information related to plant codes, which is covered under the MACHINE_ACCESS_INFO_AI table that includes plantcode access information."}
2025-05-04 03:20:18,656 - INFO - Retrieved 3 relevant contexts for query: what is their plant no...
2025-05-04 03:20:24,212 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:20:24,222 - INFO - RAG response for query 'what is their plant no': To find the plant number related to the user's access, I will write a SQL query to retrieve the rele...
2025-05-04 03:20:24,313 - INFO - Cache hit for query: SELECT PLANT_ID, PLANT_NAME
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' AND PLANTCODE = 'O-2372838648201';
2025-05-04 03:20:24,426 - INFO - Visualization created: bar
2025-05-04 03:20:24,962 - INFO - Query/response logged to Snowflake: query_id=q-75d03dad-16cc-463d-b268-10a178a01f8a
2025-05-04 03:20:55,949 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 03:20:55,950 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 03:20:55,950 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 03:20:55,951 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 03:20:55,953 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 03:20:55,954 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 03:20:56,381 - INFO - Snowflake connection initialized
2025-05-04 03:20:57,527 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 03:20:57,823 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 03:21:09,124 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:21:09,126 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The user query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance data, making the OEESHIFTWISE_AI table the relevant source for this information."}
2025-05-04 03:21:09,127 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The user query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance data, making the OEESHIFTWISE_AI table the relevant source for this information."}
2025-05-04 03:21:09,733 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:21:11,773 - INFO - Generated 1 embeddings
2025-05-04 03:21:12,443 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 03:21:15,863 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:21:15,866 - INFO - RAG response for query 'what is oee': OEE, or Overall Equipment Effectiveness, is a key performance indicator used to measure the efficien...
2025-05-04 03:21:16,488 - INFO - Query/response logged to Snowflake: query_id=q-b81319a6-b856-4a3b-b578-60f0ebe1d27c
2025-05-04 03:21:22,543 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The user query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance data, making the OEESHIFTWISE_AI table the relevant source for this information."}
2025-05-04 03:21:23,220 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 03:21:29,709 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:21:29,718 - INFO - RAG response for query 'what is oee': Overall Equipment Effectiveness (OEE) is a key performance indicator used in the manufacturing indus...
2025-05-04 03:21:30,167 - INFO - Query/response logged to Snowflake: query_id=q-f8e1bbad-c27f-4b75-ad57-048ee811f4ca
2025-05-04 03:21:59,897 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:21:59,902 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query asks about 'oee', which directly relates to OEE performance metrics. The OEESHIFTWISE_AI table contains shift-level OEE data, making it the relevant table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics."}
2025-05-04 03:21:59,903 - INFO - User query: what is the oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query asks about 'oee', which directly relates to OEE performance metrics. The OEESHIFTWISE_AI table contains shift-level OEE data, making it the relevant table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE metrics."}
2025-05-04 03:22:00,322 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 03:22:00,492 - INFO - Generated 1 embeddings
2025-05-04 03:22:01,556 - INFO - Retrieved 3 relevant contexts for query: what is the oee...
2025-05-04 03:22:06,229 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:22:06,235 - INFO - RAG response for query 'what is the oee': To provide you with the OEE (Overall Equipment Effectiveness) based on your access level, I'll write...
2025-05-04 03:22:06,577 - INFO - Executed and cached query: SELECT AVG(OEE) AS Average_OEE
FROM OEESHIFTWISE_AI
INNER JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649' 
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 03:22:07,985 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:22:07,988 - INFO - NLP summary generated: The average Overall Equipment Effectiveness (OEE) ...
2025-05-04 03:22:09,727 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 03:22:09,733 - INFO - Visualization type determined: none
2025-05-04 03:22:10,204 - INFO - Query/response logged to Snowflake: query_id=q-2d8363f0-a501-4109-8d24-5e26635ae325
2025-05-04 04:24:40,821 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 04:24:40,822 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 04:24:40,822 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 04:24:40,823 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 04:24:40,824 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 04:24:40,824 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 04:24:41,756 - INFO - Snowflake connection initialized
2025-05-04 04:24:42,749 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 04:24:43,056 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 04:26:18,974 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 04:26:18,974 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 04:26:18,974 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 04:26:18,974 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 04:26:18,975 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 04:26:18,975 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 04:26:19,386 - INFO - Snowflake connection initialized
2025-05-04 04:26:20,571 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 04:26:20,879 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 04:39:15,521 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 04:39:15,521 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 04:39:15,521 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 04:39:15,521 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 04:39:15,522 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 04:39:15,522 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 04:39:16,046 - INFO - Snowflake connection initialized
2025-05-04 04:39:17,204 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 04:39:17,554 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 05:01:47,675 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 05:01:47,675 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 05:01:47,675 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 05:01:47,675 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 05:01:47,676 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 05:01:47,676 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 05:01:48,437 - INFO - Snowflake connection initialized
2025-05-04 05:01:49,550 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 05:01:49,893 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 05:02:12,777 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:02:12,785 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query asks for information about 'oee', which relates to overall equipment effectiveness, a metric that falls under the shift-level OEE performance data provided by the OEESHIFTWISE_AI table."}
2025-05-04 05:02:12,787 - INFO - User query: what is the mximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query asks for information about 'oee', which relates to overall equipment effectiveness, a metric that falls under the shift-level OEE performance data provided by the OEESHIFTWISE_AI table."}
2025-05-04 05:02:13,461 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 05:02:13,464 - INFO - Generated 1 embeddings
2025-05-04 05:02:14,862 - INFO - Retrieved 3 relevant contexts for query: what is the mximum oee...
2025-05-04 05:02:16,048 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:02:16,051 - INFO - RAG response for query 'what is the mximum oee': You don't have access to this data. Please verify your credentials....
2025-05-04 05:02:16,505 - INFO - Query/response logged to Snowflake: query_id=q-8d56ae1a-4e76-42a7-b2b6-9ac27bc022fd
2025-05-04 05:02:44,782 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:02:44,796 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is their id' likely pertains to identifying a specific ID related to machines or plant codes, which is covered by the MACHINE_ACCESS_INFO_AI table. The OEESHIFTWISE_AI table focuses on shift-level performance metrics and does not directly relate to the request for an ID."}
2025-05-04 05:02:44,797 - INFO - User query: what is their id, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is their id' likely pertains to identifying a specific ID related to machines or plant codes, which is covered by the MACHINE_ACCESS_INFO_AI table. The OEESHIFTWISE_AI table focuses on shift-level performance metrics and does not directly relate to the request for an ID."}
2025-05-04 05:02:45,877 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 05:02:45,881 - INFO - Generated 1 embeddings
2025-05-04 05:02:46,625 - INFO - Retrieved 3 relevant contexts for query: what is their id...
2025-05-04 05:02:47,748 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:02:47,751 - INFO - RAG response for query 'what is their id': You don't have access to this data. Please verify your credentials....
2025-05-04 05:02:48,225 - INFO - Query/response logged to Snowflake: query_id=q-91cea41b-2cf2-44d6-ab44-76901cba8d19
2025-05-04 05:04:51,543 - INFO - Chat history cleared from Snowflake
2025-05-04 05:07:34,104 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:07:34,109 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks for the maximum OEE, which relates to shift-level OEE performance data found in the OEESHIFTWISE_AI table, while the MACHINE_ACCESS_INFO_AI table does not contain information regarding OEE.'}
2025-05-04 05:07:34,110 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks for the maximum OEE, which relates to shift-level OEE performance data found in the OEESHIFTWISE_AI table, while the MACHINE_ACCESS_INFO_AI table does not contain information regarding OEE.'}
2025-05-04 05:07:34,573 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 05:07:34,578 - INFO - Generated 1 embeddings
2025-05-04 05:07:35,371 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 05:07:38,439 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:07:38,695 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE from the `OEESHIFTWISE_AI` table while ensuring you have the correct access ...
2025-05-04 05:07:39,409 - INFO - Executed and cached query: SELECT MAX(CAST(OEE AS FLOAT)) AS MAX_OEE
FROM OEESHIFTWISE_AI oe
INNER JOIN MACHINE_ACCESS_INFO_AI ma ON oe.PUID = ma.PUID
WHERE ma.USER_CODE = 'A-1704902113649' 
  AND ma.PLANTCODE = 'O-2372838648201';
2025-05-04 05:07:40,679 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:07:40,683 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 05:07:43,466 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:07:43,469 - INFO - Visualization type determined: none
2025-05-04 05:07:44,205 - INFO - Chat history cleared from Snowflake
2025-05-04 05:07:50,873 - INFO - Chat history cleared from Snowflake
2025-05-04 05:07:56,624 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 05:07:56,625 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 05:07:56,625 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 05:07:56,626 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 05:07:56,626 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 05:07:56,627 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 05:07:57,206 - INFO - Snowflake connection initialized
2025-05-04 05:08:01,853 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 05:08:02,157 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 05:08:12,011 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks for the maximum OEE, which relates to shift-level OEE performance data found in the OEESHIFTWISE_AI table, while the MACHINE_ACCESS_INFO_AI table does not contain information regarding OEE.'}
2025-05-04 05:08:12,757 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 05:08:16,797 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:08:16,805 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE (Overall Equipment Effectiveness) from the data, you can use the following S...
2025-05-04 05:08:17,101 - INFO - Executed and cached query: SELECT MAX(CAST(OEE AS FLOAT)) AS max_oee
FROM OEESHIFTWISE_AI
INNER JOIN machine_access_info_ai ON OEESHIFTWISE_AI.PUID = machine_access_info_ai.PUID
WHERE machine_access_info_ai.USER_CODE = 'A-1704902113649'
  AND machine_access_info_ai.PLANTCODE = 'O-2372838648201';
2025-05-04 05:08:18,437 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:08:18,442 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 05:08:20,668 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:08:20,673 - INFO - Visualization type determined: none
2025-05-04 05:08:21,127 - INFO - Query/response logged to Snowflake: query_id=q-2a977713-7acc-481c-a68b-7df98079492b
2025-05-04 05:08:28,879 - INFO - User query: what is their id, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'what is their id' likely pertains to identifying a specific ID related to machines or plant codes, which is covered by the MACHINE_ACCESS_INFO_AI table. The OEESHIFTWISE_AI table focuses on shift-level performance metrics and does not directly relate to the request for an ID."}
2025-05-04 05:08:29,597 - INFO - Retrieved 3 relevant contexts for query: what is their id...
2025-05-04 05:08:30,701 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:08:30,704 - INFO - RAG response for query 'what is their id': You don't have access to this data. Please verify your credentials....
2025-05-04 05:08:31,159 - INFO - Query/response logged to Snowflake: query_id=q-022eff4a-4dd4-43be-aa68-f59e78a3db05
2025-05-04 05:08:42,274 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:08:42,277 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the total count of plants, which is related to access information about machines or plant codes, as indicated by the MACHINE_ACCESS_INFO_AI table description."}
2025-05-04 05:08:42,278 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the total count of plants, which is related to access information about machines or plant codes, as indicated by the MACHINE_ACCESS_INFO_AI table description."}
2025-05-04 05:08:42,810 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 05:08:42,812 - INFO - Generated 1 embeddings
2025-05-04 05:08:43,761 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 05:08:47,393 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:08:47,396 - INFO - RAG response for query 'how many total plants are': To determine how many total plants there are in the database, I will write a SQL query that counts d...
2025-05-04 05:08:47,645 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS Total_Plants
FROM O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' 
  AND PLANTCODE = 'O-2372838648201'
  AND IS_DELETED = FALSE;
2025-05-04 05:08:49,645 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:08:49,648 - INFO - NLP summary generated: The query results indicate that there is a total o...
2025-05-04 05:08:51,798 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:08:51,802 - INFO - Visualization type determined: bar
2025-05-04 05:08:52,275 - INFO - Query/response logged to Snowflake: query_id=q-55740e06-e868-4fea-aa7a-f2591419f117
2025-05-04 05:15:55,059 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 05:15:55,060 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 05:15:55,060 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 05:15:55,060 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 05:15:55,061 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 05:15:55,062 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 05:16:00,054 - INFO - Snowflake connection initialized
2025-05-04 05:16:01,138 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 05:16:01,465 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 05:16:12,160 - INFO - Chat history cleared from Snowflake
2025-05-04 05:16:20,326 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks for the maximum OEE, which relates to shift-level OEE performance data found in the OEESHIFTWISE_AI table, while the MACHINE_ACCESS_INFO_AI table does not contain information regarding OEE.'}
2025-05-04 05:16:21,048 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 05:16:25,680 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:16:25,687 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE from the `OEESHIFTWISE_AI` table while ensuring that the user has the approp...
2025-05-04 05:16:25,998 - INFO - Executed and cached query: SELECT MAX(CAST(OEE AS FLOAT)) AS max_oee
FROM OEESHIFTWISE_AI
INNER JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 05:16:27,238 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:16:27,242 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 05:16:29,424 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:16:29,428 - INFO - Visualization type determined: none
2025-05-04 05:16:29,865 - INFO - Query/response logged to Snowflake: query_id=q-a6aa6a0d-06db-444e-a56a-bd65ee05ccfb
2025-05-04 05:16:32,540 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the total count of plants, which is related to access information about machines or plant codes, as indicated by the MACHINE_ACCESS_INFO_AI table description."}
2025-05-04 05:16:33,256 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 05:16:36,613 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:16:36,617 - INFO - RAG response for query 'how many total plants are': To determine the total number of plants in the database while applying the necessary filters for acc...
2025-05-04 05:16:39,258 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' 
  AND PLANTCODE = 'O-2372838648201' 
  AND IS_DELETED = FALSE;
2025-05-04 05:16:40,543 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:16:40,549 - INFO - NLP summary generated: The SQL query results indicate that there is a tot...
2025-05-04 05:16:42,470 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:16:42,474 - INFO - Visualization type determined: none
2025-05-04 05:16:42,956 - INFO - Query/response logged to Snowflake: query_id=q-6ab0cf4d-efe2-45f1-85e0-ec9a8e368f52
2025-05-04 05:17:04,239 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:17:04,245 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query pertains to OEE (Overall Equipment Effectiveness) data specifically for March 2025, which aligns with the shift-level performance metrics available in the OEESHIFTWISE_AI table.'}
2025-05-04 05:17:04,248 - INFO - User query: what is the oee in march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query pertains to OEE (Overall Equipment Effectiveness) data specifically for March 2025, which aligns with the shift-level performance metrics available in the OEESHIFTWISE_AI table.'}
2025-05-04 05:17:05,491 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 05:17:05,500 - INFO - Generated 1 embeddings
2025-05-04 05:17:06,308 - INFO - Retrieved 3 relevant contexts for query: what is the oee in march 2025...
2025-05-04 05:17:10,061 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:17:10,075 - INFO - RAG response for query 'what is the oee in march 2025': To retrieve the OEE for March 2025 from the database, we'll need to write a SQL query while applying...
2025-05-04 05:17:10,421 - INFO - Executed and cached query: SELECT 
    AVG(OEE) AS Average_OEE
FROM 
    O3_AI_DB.O3_AI_DB_SCHEMA.OEESHIFTWISE_AI AS oee
INNER JOIN 
    O3_AI_DB.O3_AI_DB_SCHEMA.machine_access_info_ai AS machine_info 
ON 
    oee.PUID = machine_info.PUID
WHERE 
    machine_info.USER_CODE = 'A-1704902113649'
    AND machine_info.PLANTCODE = 'O-2372838648201'
    AND oee.DATE >= '2025-03-01' 
    AND oee.DATE < '2025-04-01'
;
2025-05-04 05:17:11,715 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:17:11,717 - INFO - NLP summary generated: The Overall Equipment Effectiveness (OEE) for Marc...
2025-05-04 05:17:14,992 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 05:17:14,999 - INFO - Visualization type determined: bar
2025-05-04 05:17:16,130 - INFO - Query/response logged to Snowflake: query_id=q-ddd4eaf2-fa94-4610-a1bd-5ecf3c2ddc25
2025-05-04 21:15:10,509 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:15:10,566 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:15:10,567 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:15:10,569 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:15:10,570 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:15:10,572 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:15:12,914 - INFO - Snowflake connection initialized
2025-05-04 21:15:17,541 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:15:17,839 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:15:18,011 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:15:18,012 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:15:18,349 - INFO - Snowflake connection initialized
2025-05-04 21:15:20,233 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-04 21:15:20,508 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:15:20,509 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:15:20,805 - INFO - Snowflake connection initialized
2025-05-04 21:15:22,464 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-04 21:16:02,267 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:16:02,290 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains specifically to operational equipment effectiveness (OEE) metrics, which are available in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 21:16:02,291 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains specifically to operational equipment effectiveness (OEE) metrics, which are available in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 21:16:03,005 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 21:16:03,009 - INFO - Generated 1 embeddings
2025-05-04 21:16:03,632 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 21:16:07,071 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:16:07,079 - INFO - RAG response for query 'what is the maximum oee': To retrieve the maximum OEE from the `OEESHIFTWISE_AI` table while considering your access control, ...
2025-05-04 21:16:07,422 - INFO - Executed and cached query: SELECT MAX(OEE) AS maximum_oee
FROM OEESHIFTWISE_AI
JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649' 
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 21:16:09,253 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:16:09,256 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 21:16:11,607 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:16:11,613 - INFO - Visualization type determined: none
2025-05-04 21:16:12,049 - INFO - Query/response logged to Snowflake: query_id=q-24db8e33-2b0c-46ba-8142-1fa5a1df2d89
2025-05-04 21:21:30,513 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:21:30,514 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:21:30,514 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:21:30,515 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:21:30,515 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:21:30,516 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:21:31,152 - INFO - Snowflake connection initialized
2025-05-04 21:21:33,238 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:21:33,518 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:21:43,410 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:21:43,410 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:21:43,410 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:21:43,411 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:21:43,412 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:21:43,412 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:21:43,735 - INFO - Snowflake connection initialized
2025-05-04 21:21:44,647 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:21:44,933 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:29:16,295 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:29:16,296 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:29:16,296 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:29:16,297 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:29:16,297 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:29:16,298 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:29:16,881 - INFO - Snowflake connection initialized
2025-05-04 21:29:17,847 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:29:18,099 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:30:44,951 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:30:44,952 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:30:44,952 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:30:44,952 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:30:44,953 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:30:44,953 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:30:45,331 - INFO - Snowflake connection initialized
2025-05-04 21:30:46,287 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:30:46,557 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:36:05,294 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:36:05,295 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:36:05,295 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:36:05,296 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:36:05,296 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:36:05,297 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:36:05,850 - INFO - Snowflake connection initialized
2025-05-04 21:36:06,932 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:36:08,068 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:43:01,669 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:43:01,670 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:43:01,670 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:43:01,670 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:43:01,671 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:43:01,671 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:43:02,315 - INFO - Snowflake connection initialized
2025-05-04 21:43:03,269 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:43:03,566 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:43:12,925 - INFO - Chat history cleared from Snowflake
2025-05-04 21:44:09,097 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains specifically to operational equipment effectiveness (OEE) metrics, which are available in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 21:44:09,500 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 21:44:12,641 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:44:12,645 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE, you can query the `OEESHIFTWISE_AI` table while applying the filters for th...
2025-05-04 21:44:12,944 - INFO - Executed and cached query: SELECT MAX(OEE) AS MAX_OEE
FROM OEESHIFTWISE_AI oee
INNER JOIN MACHINE_ACCESS_INFO_AI mai ON oee.PUID = mai.PUID
WHERE mai.USER_CODE = 'A-1704902113649' 
AND mai.PLANTCODE = 'O-2372838648201';
2025-05-04 21:44:14,792 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:44:14,804 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 21:44:17,520 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:44:17,523 - INFO - Visualization type determined: none
2025-05-04 21:44:17,986 - INFO - Query/response logged to Snowflake: query_id=q-dfbb95a0-7128-43cb-9509-177d6b4c5e01
2025-05-04 21:44:39,022 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:44:39,023 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to plant information, which is related to the MACHINE_ACCESS_INFO_AI table that contains machine or plantcode access information."}
2025-05-04 21:44:39,023 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to plant information, which is related to the MACHINE_ACCESS_INFO_AI table that contains machine or plantcode access information."}
2025-05-04 21:44:39,740 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 21:44:39,744 - INFO - Generated 1 embeddings
2025-05-04 21:44:40,036 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 21:44:42,200 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:44:42,202 - INFO - RAG response for query 'how many total plants are': To count the total number of unique plants accessible by the current user, you can use the following...
2025-05-04 21:44:42,433 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_NAME) AS Total_Plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' AND PLANTCODE = 'O-2372838648201';
2025-05-04 21:44:44,559 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:44:44,560 - INFO - NLP summary generated: The query results indicate that there is a total o...
2025-05-04 21:44:47,420 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:44:47,421 - INFO - Visualization type determined: bar
2025-05-04 21:44:47,887 - INFO - Query/response logged to Snowflake: query_id=q-adbce9af-2a35-44e4-902e-7ec69c90fd19
2025-05-04 21:46:48,073 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:46:48,073 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:46:48,073 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:46:48,074 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:46:48,074 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:46:48,075 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:46:48,478 - INFO - Snowflake connection initialized
2025-05-04 21:46:49,533 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:46:49,796 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:47:58,806 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:47:58,809 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for OEE (Overall Equipment Efficiency) data for March 2025, which directly relates to shift-level performance metrics found in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE performance or metrics.'}
2025-05-04 21:47:58,811 - INFO - User query: what is the oee against the month march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for OEE (Overall Equipment Efficiency) data for March 2025, which directly relates to shift-level performance metrics found in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not pertain to OEE performance or metrics.'}
2025-05-04 21:47:59,418 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 21:47:59,419 - INFO - Generated 1 embeddings
2025-05-04 21:47:59,970 - INFO - Retrieved 3 relevant contexts for query: what is the oee against the month march 2025...
2025-05-04 21:48:02,900 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:48:02,901 - INFO - RAG response for query 'what is the oee against the month march 2025': To get the OEE data for March 2025, we will need to filter the records based on the specified date a...
2025-05-04 21:48:03,588 - INFO - Executed and cached query: SELECT 
    oe.OEE,
    oe.DATE
FROM 
    O3_AI_DB.O3_AI_DB_SCHEMA.OEESHIFTWISE_AI oe
JOIN 
    O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI ma
ON 
    oe.PUID = ma.PUID
WHERE 
    ma.USER_CODE = 'A-1704902113649' 
    AND ma.PLANTCODE = 'O-2372838648201' 
    AND oe.DATE >= '2025-03-01' 
    AND oe.DATE < '2025-04-01';
2025-05-04 21:48:05,257 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:48:05,259 - INFO - NLP summary generated: In March 2025, the Overall Equipment Effectiveness...
2025-05-04 21:48:08,022 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 21:48:08,024 - INFO - Visualization type determined: line
2025-05-04 21:48:14,466 - INFO - Visualization created: line
2025-05-04 21:48:14,910 - INFO - Query/response logged to Snowflake: query_id=q-5b3fffac-1178-4b08-8351-18259dec4164
2025-05-04 21:48:25,469 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:48:25,470 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:48:25,470 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:48:25,470 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:48:25,471 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:48:25,471 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:48:25,952 - INFO - Snowflake connection initialized
2025-05-04 21:48:26,932 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:48:27,180 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:55:39,871 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:55:39,871 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:55:39,871 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:55:39,872 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:55:39,872 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:55:39,872 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:55:40,380 - INFO - Snowflake connection initialized
2025-05-04 21:55:41,345 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:55:41,603 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:59:16,941 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:59:16,942 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:59:16,942 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:59:16,943 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:59:16,943 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:59:16,944 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:59:17,366 - INFO - Snowflake connection initialized
2025-05-04 21:59:18,336 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:59:18,600 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 21:59:46,630 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 21:59:46,630 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 21:59:46,631 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 21:59:46,631 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 21:59:46,631 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 21:59:46,632 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 21:59:46,998 - INFO - Snowflake connection initialized
2025-05-04 21:59:47,823 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 21:59:48,124 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:03:45,651 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEyZTI0ZWI2LTZiNzctNDBmNy1hNmI4LTUwNGMzNTRlZjM1NiIsInVzZXJOYW1lIjoibmF3cmFzX2ludGVncmF0aW9uIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJOLTE3MDQ5MTkyNTI2NDciLCJleHAiOjE3NDY0NjQ1MTMsImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjcwNDgvIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDIwMC8ifQ.78W8Yp9iLJmY4GrZa2G9vxhvftJO2pXovgy2wssByFM
2025-05-04 22:03:45,651 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': '12e24eb6-6b77-40f7-a6b8-504c354ef356', 'userName': 'nawras_integration', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'N-1704919252647', 'exp': 1746464513, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:03:45,651 - INFO - Extracted user_code: N-1704919252647, plant_code: O-2372838648201
2025-05-04 22:03:45,652 - INFO - User authenticated: N-1704919252647, Plant: O-2372838648201
2025-05-04 22:03:45,652 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:03:45,652 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:03:46,261 - INFO - Snowflake connection initialized
2025-05-04 22:03:47,275 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:03:47,536 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:05:42,827 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains specifically to operational equipment effectiveness (OEE) metrics, which are available in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 22:05:43,244 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 22:05:46,118 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:05:46,119 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE from the `OEESHIFTWISE_AI` table while respecting your access level, we can ...
2025-05-04 22:05:47,017 - INFO - Executed and cached query: SELECT MAX(OEE) AS MAX_OEE
FROM OEESHIFTWISE_AI oee
INNER JOIN machine_access_info_ai mai ON oee.PUID = mai.PUID
WHERE mai.USER_CODE = 'N-1704919252647'
  AND mai.PLANTCODE = 'O-2372838648201';
2025-05-04 22:05:48,321 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:05:48,323 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-04 22:05:50,272 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:05:50,280 - INFO - Visualization type determined: none
2025-05-04 22:05:50,719 - INFO - Query/response logged to Snowflake: query_id=q-db61e3f0-cc6e-4392-8279-95187e16953a
2025-05-04 22:06:12,377 - INFO - Chat history cleared from Snowflake for user_code=N-1704919252647 and plant_code=O-2372838648201
2025-05-04 22:07:16,856 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:07:16,856 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:07:16,856 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:07:16,857 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:07:16,857 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:07:16,858 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:07:17,213 - INFO - Snowflake connection initialized
2025-05-04 22:07:18,205 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:07:18,452 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:11:11,440 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:11:11,441 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:11:11,441 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:11:11,442 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:11:11,442 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:11:11,442 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:11:11,923 - INFO - Snowflake connection initialized
2025-05-04 22:11:12,870 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:11:13,149 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:11:30,247 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:11:30,248 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:11:30,248 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:11:30,248 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:11:30,248 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:11:30,249 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:11:30,621 - INFO - Snowflake connection initialized
2025-05-04 22:11:31,469 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:11:31,753 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:11:54,155 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:11:54,155 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:11:54,155 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:11:54,156 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:11:54,156 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:11:54,156 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:11:54,496 - INFO - Snowflake connection initialized
2025-05-04 22:11:55,359 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:11:55,612 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:14:05,171 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:14:05,172 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:14:05,172 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:14:05,173 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:14:05,174 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:14:05,174 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:14:05,494 - INFO - Snowflake connection initialized
2025-05-04 22:14:06,462 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:14:06,727 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:16:41,240 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:16:41,241 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:16:41,241 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:16:41,241 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:16:41,242 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:16:41,242 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:16:42,155 - INFO - Snowflake connection initialized
2025-05-04 22:16:43,694 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:16:44,383 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:17:14,737 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:17:14,738 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:17:14,738 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:17:14,739 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:17:14,739 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:17:14,740 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:17:15,124 - INFO - Snowflake connection initialized
2025-05-04 22:17:16,097 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:17:16,391 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:18:58,241 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:18:58,241 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:18:58,241 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:18:58,241 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:18:58,242 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:18:58,242 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:18:58,591 - INFO - Snowflake connection initialized
2025-05-04 22:18:59,568 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:18:59,818 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:19:47,960 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:19:47,960 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:19:47,960 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:19:47,961 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:19:47,961 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:19:47,961 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:19:49,454 - INFO - Snowflake connection initialized
2025-05-04 22:19:55,105 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:19:55,760 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:24:14,097 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:24:14,098 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:24:14,098 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:24:14,098 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:24:14,099 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:24:14,099 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:24:14,900 - INFO - Snowflake connection initialized
2025-05-04 22:24:16,319 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:24:16,593 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:26:55,481 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:26:55,483 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:26:55,484 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:26:55,486 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:26:55,488 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:26:55,489 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:26:56,007 - INFO - Snowflake connection initialized
2025-05-04 22:27:02,927 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:27:02,928 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:27:02,928 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:27:02,929 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:27:02,930 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:27:02,931 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:27:03,387 - INFO - Snowflake connection initialized
2025-05-04 22:27:05,388 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:27:06,110 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:27:43,929 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:27:43,930 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:27:43,931 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:27:43,934 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:27:43,950 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:27:43,951 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:27:44,439 - INFO - Snowflake connection initialized
2025-05-04 22:27:48,007 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:27:48,412 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:32:07,585 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:32:07,586 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:32:07,587 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:32:07,588 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:32:07,588 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:32:07,589 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:32:08,210 - INFO - Snowflake connection initialized
2025-05-04 22:32:08,405 - INFO - Chat history loaded from Snowflake
2025-05-04 22:32:09,262 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:32:09,558 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:32:25,741 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:32:25,742 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:32:25,742 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:32:25,743 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:32:25,744 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:32:25,745 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:32:26,240 - INFO - Snowflake connection initialized
2025-05-04 22:32:26,347 - INFO - Chat history loaded from Snowflake
2025-05-04 22:32:27,813 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:32:28,267 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:32:43,300 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:32:43,306 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance metrics found in the OEESHIFTWISE_AI table."}
2025-05-04 22:32:43,308 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance metrics found in the OEESHIFTWISE_AI table."}
2025-05-04 22:32:44,140 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 22:32:44,148 - INFO - Generated 1 embeddings
2025-05-04 22:32:46,200 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 22:32:49,414 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:32:49,420 - INFO - RAG response for query 'what is oee': Overall Equipment Effectiveness (OEE) is a key performance indicator that is used to measure the eff...
2025-05-04 22:32:49,857 - INFO - Query/response logged to Snowflake: query_id=q-c4c75a71-4cfb-4481-b302-3ef6ba945efe
2025-05-04 22:33:11,903 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:33:11,903 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:33:11,903 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:33:11,904 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:33:11,904 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:33:11,904 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:33:12,277 - INFO - Snowflake connection initialized
2025-05-04 22:33:13,311 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:33:13,574 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:39:51,385 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:39:51,385 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:39:51,385 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:39:51,385 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:39:51,386 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:39:51,386 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:39:52,059 - INFO - Snowflake connection initialized
2025-05-04 22:39:53,242 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:39:53,691 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:40:21,862 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:40:21,867 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks about the maximum OEE (Overall Equipment Effectiveness), which directly pertains to shift-level OEE performance data found in the OEESHIFTWISE_AI table.'}
2025-05-04 22:40:21,868 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks about the maximum OEE (Overall Equipment Effectiveness), which directly pertains to shift-level OEE performance data found in the OEESHIFTWISE_AI table.'}
2025-05-04 22:40:22,835 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 22:40:22,836 - INFO - Generated 1 embeddings
2025-05-04 22:40:23,168 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 22:40:29,017 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:40:29,027 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE, you can use the following SQL query, which retrieves the maximum OEE value ...
2025-05-04 22:40:29,339 - INFO - Executed and cached query: SELECT MAX(CAST(OEE AS FLOAT)) AS max_oee
FROM OEESHIFTWISE_AI
JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-04 22:40:31,256 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:40:31,265 - INFO - NLP summary generated: The maximum Overall Equipment Efficiency (OEE) rec...
2025-05-04 22:40:33,836 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:40:33,843 - INFO - Visualization type determined: none
2025-05-04 22:40:34,281 - INFO - Query/response logged to Snowflake: query_id=q-a48fc5bb-ba26-4a72-97c9-be5dbf3f7d37
2025-05-04 22:40:46,525 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:40:46,525 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:40:46,525 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:40:46,525 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:40:46,525 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:40:46,526 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:40:46,875 - INFO - Snowflake connection initialized
2025-05-04 22:40:47,831 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:40:48,339 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:41:35,695 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:41:35,696 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:41:35,696 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:41:35,696 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:41:35,696 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:41:35,696 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:41:36,140 - INFO - Snowflake connection initialized
2025-05-04 22:41:37,067 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:41:37,357 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:42:19,891 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:42:19,891 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:42:19,891 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:42:19,891 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:42:19,892 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:42:19,892 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:42:20,221 - INFO - Snowflake connection initialized
2025-05-04 22:42:21,142 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:42:21,387 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:42:48,408 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:42:48,408 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:42:48,408 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:42:48,408 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:42:48,409 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:42:48,409 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:42:48,762 - INFO - Snowflake connection initialized
2025-05-04 22:42:49,593 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:42:49,855 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:47:06,084 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:47:06,089 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the count of plants, which is related to access information about machines or plant codes. The OEESHIFTWISE_AI table focuses on performance metrics and does not directly answer the query about the number of plants."}
2025-05-04 22:47:06,090 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the count of plants, which is related to access information about machines or plant codes. The OEESHIFTWISE_AI table focuses on performance metrics and does not directly answer the query about the number of plants."}
2025-05-04 22:47:06,909 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 22:47:06,916 - INFO - Generated 1 embeddings
2025-05-04 22:47:09,141 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 22:47:11,978 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:47:11,983 - INFO - RAG response for query 'how many total plants are': To answer your query about the total number of plants, I'll write a SQL query that counts the distin...
2025-05-04 22:47:12,186 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649'
  AND PLANTCODE = 'O-2372838648201';
2025-05-04 22:47:14,167 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:47:14,177 - INFO - NLP summary generated: The SQL query results indicate that there is a tot...
2025-05-04 22:47:16,364 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:47:16,368 - INFO - Visualization type determined: bar
2025-05-04 22:47:16,805 - INFO - Query/response logged to Snowflake: query_id=q-adc8719d-becd-4b97-b2cb-f3d345358019
2025-05-04 22:47:28,304 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 22:47:28,304 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 22:47:28,304 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 22:47:28,305 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 22:47:28,305 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 22:47:28,305 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 22:47:28,648 - INFO - Snowflake connection initialized
2025-05-04 22:47:29,685 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 22:47:29,940 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 22:48:02,527 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance metrics found in the OEESHIFTWISE_AI table."}
2025-05-04 22:48:02,888 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 22:48:07,353 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:48:07,356 - INFO - RAG response for query 'what is oee': Overall Equipment Effectiveness (OEE) is a key performance indicator in manufacturing that measures ...
2025-05-04 22:48:07,819 - INFO - Query/response logged to Snowflake: query_id=q-cb6b953d-9c4e-4a37-a5c8-6eb022f714c3
2025-05-04 22:49:14,929 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance metrics found in the OEESHIFTWISE_AI table."}
2025-05-04 22:49:16,503 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 22:49:20,482 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:49:20,490 - INFO - RAG response for query 'what is oee': Overall Equipment Effectiveness (OEE) is a key performance indicator used in manufacturing to measur...
2025-05-04 22:49:20,933 - INFO - Query/response logged to Snowflake: query_id=q-71955a5c-c482-4f24-a6b7-4f1ace32f1e6
2025-05-04 22:49:30,171 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance metrics found in the OEESHIFTWISE_AI table."}
2025-05-04 22:49:31,673 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 22:49:35,693 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:49:35,697 - INFO - RAG response for query 'what is oee': OEE, or Overall Equipment Effectiveness, is a key performance indicator used to measure the efficien...
2025-05-04 22:49:36,135 - INFO - Query/response logged to Snowflake: query_id=q-7c5deb9f-9ac4-46ac-ab30-eb752dce838f
2025-05-04 22:49:56,417 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:49:56,428 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for OEE (Overall Equipment Effectiveness) for the current week, which directly relates to the shift-level performance data provided in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to the OEE query.'}
2025-05-04 22:49:56,429 - INFO - User query: what is the oee for this week, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for OEE (Overall Equipment Effectiveness) for the current week, which directly relates to the shift-level performance data provided in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to the OEE query.'}
2025-05-04 22:49:57,411 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 22:49:57,415 - INFO - Generated 1 embeddings
2025-05-04 22:49:57,742 - INFO - Retrieved 3 relevant contexts for query: what is the oee for this week...
2025-05-04 22:50:02,364 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:50:02,378 - INFO - RAG response for query 'what is the oee for this week': To calculate the OEE (Overall Equipment Effectiveness) for this week, we need to consider the curren...
2025-05-04 22:50:02,692 - INFO - Executed and cached query: SELECT 
    MACHINE, 
    SUM(CAST(OEE AS FLOAT)) AS Total_OEE, 
    COUNT(*) AS Shifts
FROM 
    OEESHIFTWISE_AI 
INNER JOIN 
    MACHINE_ACCESS_INFO_AI 
ON 
    OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE 
    MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649' 
    AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201'
    AND DATE >= DATE_TRUNC('WEEK', CURRENT_DATE) 
    AND DATE < DATE_TRUNC('WEEK', CURRENT_DATE) + INTERVAL '7 DAY'
GROUP BY 
    MACHINE;
2025-05-04 22:50:04,978 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:50:04,985 - INFO - NLP summary generated: This week, the overall OEE for the machines shows ...
2025-05-04 22:50:07,251 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 22:50:07,255 - INFO - Visualization type determined: bar
2025-05-04 22:50:07,448 - INFO - Visualization created: bar
2025-05-04 22:50:08,048 - INFO - Query/response logged to Snowflake: query_id=q-564f68bc-14f1-4f17-9a88-172f97a01482
2025-05-04 23:00:53,448 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:00:53,449 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:00:53,449 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:00:53,449 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:00:53,449 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:00:53,450 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:00:54,250 - INFO - Snowflake connection initialized
2025-05-04 23:00:55,853 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:00:56,533 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:01:10,784 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:01:10,796 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for the OEE (Overall Equipment Efficiency) data for March 2025, which pertains directly to shift-level performance metrics that are found in the OEESHIFTWISE_AI table.'}
2025-05-04 23:01:10,797 - INFO - User query: what is the oee of march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for the OEE (Overall Equipment Efficiency) data for March 2025, which pertains directly to shift-level performance metrics that are found in the OEESHIFTWISE_AI table.'}
2025-05-04 23:01:11,168 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:01:11,172 - INFO - Generated 1 embeddings
2025-05-04 23:01:11,554 - INFO - Retrieved 3 relevant contexts for query: what is the oee of march 2025...
2025-05-04 23:01:14,199 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:01:14,206 - INFO - RAG response for query 'what is the oee of march 2025': ```sql
SELECT 
    DATE,
    AVG(OEE) AS average_oee
FROM 
    OEESHIFTWISE_AI
WHERE 
    DATE >= '2...
2025-05-04 23:01:14,581 - INFO - Executed and cached query: SELECT 
    DATE,
    AVG(OEE) AS average_oee
FROM 
    OEESHIFTWISE_AI
WHERE 
    DATE >= '2025-03-01' AND DATE < '2025-04-01'
    AND PUID IN (SELECT PUID FROM MACHINE_ACCESS_INFO_AI WHERE USER_CODE='A-1704902113649' AND PLANTCODE='O-2372838648201')
GROUP BY 
    DATE
ORDER BY 
    DATE;
2025-05-04 23:01:18,313 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:01:18,330 - INFO - NLP summary generated: In March 2025, the Overall Equipment Effectiveness...
2025-05-04 23:01:21,015 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:01:21,028 - INFO - Visualization type determined: line
2025-05-04 23:01:21,248 - INFO - Visualization created: line
2025-05-04 23:01:21,688 - INFO - Query/response logged to Snowflake: query_id=q-bb6b9edb-b37e-49fc-88b0-c7ca48bd279c
2025-05-04 23:01:23,013 - WARNING - Query ID q-bb6b9edb-b37e-49fc-88b0-c7ca48bd279c not found in full_responses
2025-05-04 23:01:32,809 - WARNING - Query ID q-bb6b9edb-b37e-49fc-88b0-c7ca48bd279c not found in full_responses
2025-05-04 23:01:33,649 - WARNING - Query ID q-bb6b9edb-b37e-49fc-88b0-c7ca48bd279c not found in full_responses
2025-05-04 23:04:43,377 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:04:43,377 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:04:43,377 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:04:43,377 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:04:43,378 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:04:43,378 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:04:43,927 - INFO - Snowflake connection initialized
2025-05-04 23:04:53,900 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:04:53,900 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:04:53,900 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:04:53,900 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:04:53,900 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:04:53,901 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:04:54,288 - INFO - Snowflake connection initialized
2025-05-04 23:06:10,863 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:06:10,863 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:06:10,864 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:06:10,864 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:06:10,864 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:06:10,864 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:06:11,415 - INFO - Snowflake connection initialized
2025-05-04 23:06:12,866 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:06:13,121 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:06:25,102 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:06:25,105 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query is specifically asking for the OEE (Overall Equipment Effectiveness) of March, which pertains to shift-level performance data related to OEE metrics. The MACHINE_ACCESS_INFO_AI table does not contain relevant data for this query.'}
2025-05-04 23:06:25,106 - INFO - User query: what is the oee of march, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query is specifically asking for the OEE (Overall Equipment Effectiveness) of March, which pertains to shift-level performance data related to OEE metrics. The MACHINE_ACCESS_INFO_AI table does not contain relevant data for this query.'}
2025-05-04 23:06:26,218 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:06:26,222 - INFO - Generated 1 embeddings
2025-05-04 23:06:26,573 - INFO - Retrieved 3 relevant contexts for query: what is the oee of march...
2025-05-04 23:06:31,131 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:06:31,147 - INFO - RAG response for query 'what is the oee of march': To calculate the Overall Equipment Effectiveness (OEE) for March, we need to retrieve the relevant O...
2025-05-04 23:06:31,586 - INFO - Executed and cached query: SELECT 
    MACHINE,
    AVG(CAST(OEE AS FLOAT)) AS Average_OEE
FROM 
    OEESHIFTWISE_AI
JOIN 
    MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE 
    MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649' 
    AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201'
    AND DATE_TRUNC('month', DATE) = '2025-03-01'
GROUP BY 
    MACHINE
ORDER BY 
    MACHINE;
2025-05-04 23:06:33,324 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:06:33,330 - INFO - NLP summary generated: In March 2025, several machines reported an Averag...
2025-05-04 23:06:35,611 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:06:35,615 - INFO - Visualization type determined: bar
2025-05-04 23:06:35,712 - INFO - Visualization created: bar
2025-05-04 23:06:36,138 - INFO - Query/response logged to Snowflake: query_id=q-b3477a73-4eac-4877-a9e6-fd5af6017e8c
2025-05-04 23:06:50,561 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:06:50,564 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for the OEE (Overall Equipment Effectiveness) related to January, which pertains directly to performance metrics available in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant as it does not contain OEE data.'}
2025-05-04 23:06:50,565 - INFO - User query: what is the oee of january, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for the OEE (Overall Equipment Effectiveness) related to January, which pertains directly to performance metrics available in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant as it does not contain OEE data.'}
2025-05-04 23:06:51,941 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:06:51,947 - INFO - Generated 1 embeddings
2025-05-04 23:06:52,294 - INFO - Retrieved 3 relevant contexts for query: what is the oee of january...
2025-05-04 23:06:56,052 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:06:56,055 - INFO - RAG response for query 'what is the oee of january': To retrieve the Overall Equipment Effectiveness (OEE) for the machines during January, I'll write an...
2025-05-04 23:06:56,398 - INFO - Executed and cached query: SELECT 
    MACHINE, 
    AVG(OEE) AS Average_OEE
FROM 
    OEESHIFTWISE_AI 
INNER JOIN 
    MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE 
    MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649' 
    AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201'
    AND DATE >= '2025-01-01' 
    AND DATE < '2025-02-01'
GROUP BY 
    MACHINE;
2025-05-04 23:06:58,229 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:06:58,232 - INFO - NLP summary generated: In January 2025, the average Overall Equipment Eff...
2025-05-04 23:07:00,872 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:07:00,878 - INFO - Visualization type determined: bar
2025-05-04 23:07:00,950 - INFO - Visualization created: bar
2025-05-04 23:07:01,502 - INFO - Query/response logged to Snowflake: query_id=q-9bbbf25f-ba23-4fc4-a2a2-b17d1d8c1207
2025-05-04 23:08:31,788 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:08:31,788 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:08:31,788 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:08:31,789 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:08:31,789 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:08:31,789 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:08:32,603 - INFO - Snowflake connection initialized
2025-05-04 23:08:33,670 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:08:34,001 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:12:09,737 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:12:09,737 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:12:09,737 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:12:09,737 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:12:09,737 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:12:09,738 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:12:11,530 - INFO - Snowflake connection initialized
2025-05-04 23:12:12,904 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:12:13,238 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:12:36,055 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:12:36,062 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for the top 10 OEE (Overall Equipment Effectiveness) in March, which pertains to shift-level OEE performance data provided by the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to OEE metrics.'}
2025-05-04 23:12:36,063 - INFO - User query: what is the top 10 oee in march, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for the top 10 OEE (Overall Equipment Effectiveness) in March, which pertains to shift-level OEE performance data provided by the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to OEE metrics.'}
2025-05-04 23:12:37,105 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:12:37,206 - INFO - Generated 1 embeddings
2025-05-04 23:12:37,496 - INFO - Retrieved 3 relevant contexts for query: what is the top 10 oee in march...
2025-05-04 23:12:41,277 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:12:41,282 - INFO - RAG response for query 'what is the top 10 oee in march': To retrieve the top 10 OEE values for machines in March that you have access to, I will write a SQL ...
2025-05-04 23:12:41,692 - INFO - Executed and cached query: SELECT MACHINE, OEE
FROM OEESHIFTWISE_AI
JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201'
  AND DATE >= '2025-03-01' 
  AND DATE < '2025-04-01'
ORDER BY OEE DESC
LIMIT 10;
2025-05-04 23:12:43,433 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:12:43,437 - INFO - NLP summary generated: In March 2025, the top 10 Overall Equipment Effici...
2025-05-04 23:12:47,281 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:12:47,285 - INFO - Visualization type determined: bar
2025-05-04 23:12:47,365 - INFO - Visualization created: bar
2025-05-04 23:12:48,696 - INFO - Query/response logged to Snowflake: query_id=q-134752d2-1803-4133-b47c-8953891923ac
2025-05-04 23:13:19,269 - INFO - Chat history cleared from Snowflake for user_code=A-1704902113649 and plant_code=O-2372838648201
2025-05-04 23:13:40,134 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:13:40,137 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is maximum oee' pertains specifically to OEE (Overall Equipment Effectiveness) metrics, which are found in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 23:13:40,138 - INFO - User query: what is maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is maximum oee' pertains specifically to OEE (Overall Equipment Effectiveness) metrics, which are found in the OEESHIFTWISE_AI table that contains shift-level OEE performance data."}
2025-05-04 23:13:41,183 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:13:41,186 - INFO - Generated 1 embeddings
2025-05-04 23:13:41,614 - INFO - Retrieved 3 relevant contexts for query: what is maximum oee...
2025-05-04 23:13:45,443 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:13:45,449 - INFO - RAG response for query 'what is maximum oee': To retrieve the maximum OEE (Overall Equipment Effectiveness) from the `OEESHIFTWISE_AI` table, whil...
2025-05-04 23:13:48,671 - INFO - Executed and cached query: SELECT MAX(OEE) AS max_oee
FROM O3_AI_DB.O3_AI_DB_SCHEMA.OEESHIFTWISE_AI oee
JOIN O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI mai 
    ON oee.PUID = mai.PUID
WHERE mai.USER_CODE = 'A-1704902113649' 
  AND mai.PLANTCODE = 'O-2372838648201';
2025-05-04 23:13:49,858 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:13:49,866 - INFO - NLP summary generated: The maximum Overall Equipment Efficiency (OEE) rec...
2025-05-04 23:13:52,326 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:13:52,330 - INFO - Visualization type determined: none
2025-05-04 23:13:54,094 - INFO - Query/response logged to Snowflake: query_id=q-748f127a-6744-42d6-8461-4cfd63b03d2b
2025-05-04 23:14:46,127 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:14:46,130 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how may total plants are' seems to inquire about the count of plants, which relates to machine or plant code access information. The OEESHIFTWISE_AI table focuses on shift-level OEE performance data and does not pertain to the query about the number of plants."}
2025-05-04 23:14:46,131 - INFO - User query: how may total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how may total plants are' seems to inquire about the count of plants, which relates to machine or plant code access information. The OEESHIFTWISE_AI table focuses on shift-level OEE performance data and does not pertain to the query about the number of plants."}
2025-05-04 23:14:47,609 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:14:47,612 - INFO - Generated 1 embeddings
2025-05-04 23:14:48,040 - INFO - Retrieved 3 relevant contexts for query: how may total plants are...
2025-05-04 23:14:51,268 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:14:51,274 - INFO - RAG response for query 'how may total plants are': To determine the total number of unique plants accessible to you based on the provided context, I wi...
2025-05-04 23:14:51,569 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_NAME) AS total_plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649'
  AND PLANTCODE = 'O-2372838648201';
2025-05-04 23:14:53,144 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:14:53,148 - INFO - NLP summary generated: The query results indicate that there is a total o...
2025-05-04 23:14:55,942 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:14:55,953 - INFO - Visualization type determined: none
2025-05-04 23:14:56,812 - INFO - Query/response logged to Snowflake: query_id=q-70eb1530-bbd2-4e42-a4f0-c7697469504a
2025-05-04 23:18:17,141 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:18:17,142 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:18:17,142 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:18:17,142 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:18:17,142 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:18:17,143 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:18:18,222 - INFO - Snowflake connection initialized
2025-05-04 23:18:20,229 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:18:20,776 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:18:36,657 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance metrics found in the OEESHIFTWISE_AI table."}
2025-05-04 23:18:36,971 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 23:18:41,590 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:18:41,597 - INFO - RAG response for query 'what is oee': OEE, or Overall Equipment Effectiveness, is a key performance indicator used in manufacturing to mea...
2025-05-04 23:18:42,050 - INFO - Query/response logged to Snowflake: query_id=q-d973090e-e638-4281-af94-d8681a8aef60
2025-05-04 23:18:49,733 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance metrics found in the OEESHIFTWISE_AI table."}
2025-05-04 23:18:50,020 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 23:18:56,216 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:18:56,221 - INFO - RAG response for query 'what is oee': OEE, or Overall Equipment Effectiveness, is a key performance indicator in manufacturing that measur...
2025-05-04 23:19:00,599 - INFO - Query/response logged to Snowflake: query_id=q-9db9c0d7-c8e1-439f-8cde-1737da301aaa
2025-05-04 23:24:19,315 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:24:19,316 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:24:19,316 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:24:19,316 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:24:19,316 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:24:19,317 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:24:19,811 - INFO - Snowflake connection initialized
2025-05-04 23:24:20,914 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:24:21,197 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:24:21,734 - ERROR - Sidebar chat history load error: There are multiple elements with the same `key='history_btn_0_q-9db9c0d7-c8e1-439f-8cde-1737da301aaa'`. To fix this, please make sure that the `key` argument is unique for each element you create.
2025-05-04 23:24:23,670 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:24:23,681 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'None' does not provide any specific information or context that pertains to either of the available tables. Therefore, no tables are relevant to this query."}
2025-05-04 23:24:23,682 - INFO - User query: None, Intent: {'tables': [], 'reason': "The query 'None' does not provide any specific information or context that pertains to either of the available tables. Therefore, no tables are relevant to this query."}
2025-05-04 23:24:24,658 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 400 Bad Request"
2025-05-04 23:24:24,663 - ERROR - Embedding error: Error code: 400 - {'error': {'message': "'$.input' is invalid. Please check the API reference: https://platform.openai.com/docs/api-reference.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-05-04 23:24:25,243 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-05-04 23:24:25,246 - ERROR - OpenAI API error: Error code: 400 - {'error': {'message': "Invalid value for 'content': expected a string, got null.", 'type': 'invalid_request_error', 'param': 'messages.[5].content', 'code': None}}
2025-05-04 23:24:25,246 - INFO - RAG response for query 'None': Error connecting to OpenAI: Error code: 400 - {'error': {'message': "Invalid value for 'content': ex...
2025-05-04 23:24:29,737 - ERROR - Query/response logging error: 100072 (22000): None: NULL result in a non-nullable column
2025-05-04 23:24:29,938 - ERROR - Sidebar chat history load error: There are multiple elements with the same `key='history_btn_0_q-9db9c0d7-c8e1-439f-8cde-1737da301aaa'`. To fix this, please make sure that the `key` argument is unique for each element you create.
2025-05-04 23:25:03,579 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:25:03,579 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:25:03,579 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:25:03,579 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:25:03,579 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:25:03,580 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:25:03,953 - INFO - Snowflake connection initialized
2025-05-04 23:25:04,876 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:25:05,151 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:25:13,528 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains to Overall Equipment Effectiveness (OEE), which is specifically related to shift-level performance metrics found in the OEESHIFTWISE_AI table."}
2025-05-04 23:25:13,839 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 23:25:19,092 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:25:19,137 - INFO - RAG response for query 'what is oee': Overall Equipment Effectiveness (OEE) is a metric used in manufacturing to evaluate how effectively ...
2025-05-04 23:25:19,648 - INFO - Query/response logged to Snowflake: query_id=q-db570c78-521c-4641-ab0a-802f6fe6b128
2025-05-04 23:25:23,668 - INFO - Chat history cleared from Snowflake for user_code=A-1704902113649 and plant_code=O-2372838648201
2025-05-04 23:25:33,668 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query asks about the maximum OEE (Overall Equipment Effectiveness), which directly pertains to shift-level OEE performance data found in the OEESHIFTWISE_AI table.'}
2025-05-04 23:25:33,948 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 23:25:38,896 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:25:38,899 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE (Overall Equipment Effectiveness) for the user with `user_code='A-1704902113...
2025-05-04 23:25:39,266 - INFO - Executed and cached query: SELECT MAX(CAST(OEE AS FLOAT)) AS Max_OEE
FROM O3_AI_DB.O3_AI_DB_SCHEMA.OEESHIFTWISE_AI AS oee
INNER JOIN O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI AS machine_access
ON oee.PUID = machine_access.PUID
WHERE machine_access.USER_CODE = 'A-1704902113649' 
AND machine_access.PLANTCODE = 'O-2372838648201';
2025-05-04 23:25:40,346 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:25:40,352 - INFO - NLP summary generated: The maximum OEE (Overall Equipment Efficiency) rec...
2025-05-04 23:25:43,168 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:25:43,174 - INFO - Visualization type determined: none
2025-05-04 23:25:43,679 - INFO - Query/response logged to Snowflake: query_id=q-f74e222b-b1e0-4a85-b61d-ed17de62cf17
2025-05-04 23:29:14,286 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:29:14,287 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:29:14,287 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:29:14,287 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:29:14,287 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:29:14,287 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:29:17,802 - INFO - Snowflake connection initialized
2025-05-04 23:29:19,727 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:29:20,335 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:29:21,623 - ERROR - Sidebar chat history load error: There are multiple elements with the same `key='history_btn_0_q-f74e222b-b1e0-4a85-b61d-ed17de62cf17'`. To fix this, please make sure that the `key` argument is unique for each element you create.
2025-05-04 23:29:25,522 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:29:25,523 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:29:25,523 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:29:25,523 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:29:25,523 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:29:25,523 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:29:26,014 - INFO - Snowflake connection initialized
2025-05-04 23:29:26,955 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:29:29,771 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:29:30,310 - ERROR - Sidebar chat history load error: There are multiple elements with the same `key='history_btn_0_q-f74e222b-b1e0-4a85-b61d-ed17de62cf17'`. To fix this, please make sure that the `key` argument is unique for each element you create.
2025-05-04 23:30:06,082 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:30:06,083 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:30:06,083 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:30:06,083 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:30:06,083 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:30:06,083 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:30:13,644 - INFO - Snowflake connection initialized
2025-05-04 23:30:15,919 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:30:16,223 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:30:28,808 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the count of plants, which is related to access information about machines or plant codes. The OEESHIFTWISE_AI table focuses on performance metrics and does not directly answer the query about the number of plants."}
2025-05-04 23:30:29,104 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-04 23:30:32,485 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:30:32,493 - INFO - RAG response for query 'how many total plants are': To determine the total number of plants, you can use the `MACHINE_ACCESS_INFO_AI` table to count dis...
2025-05-04 23:30:33,268 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' 
  AND PLANTCODE = 'O-2372838648201';
2025-05-04 23:30:35,506 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:30:35,510 - INFO - NLP summary generated: The query results show that there is a total of 1 ...
2025-05-04 23:30:38,053 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:30:38,062 - INFO - Visualization type determined: none
2025-05-04 23:30:38,848 - INFO - Query/response logged to Snowflake: query_id=q-ccc48598-7f70-4049-9ea8-076ce57cbd1b
2025-05-04 23:32:02,306 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:32:02,307 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:32:02,307 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:32:02,307 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:32:02,307 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:32:02,308 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:32:02,689 - INFO - Snowflake connection initialized
2025-05-04 23:32:04,114 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:32:04,552 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:32:21,843 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:32:21,847 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plaants are' pertains to information about the number of plants, which is related to machine or plant code access information rather than shift-level OEE performance data."}
2025-05-04 23:32:21,848 - INFO - User query: how many total plaants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plaants are' pertains to information about the number of plants, which is related to machine or plant code access information rather than shift-level OEE performance data."}
2025-05-04 23:32:22,596 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:32:22,599 - INFO - Generated 1 embeddings
2025-05-04 23:32:22,986 - INFO - Retrieved 3 relevant contexts for query: how many total plaants are...
2025-05-04 23:32:26,209 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:32:26,216 - INFO - RAG response for query 'how many total plaants are': To find the total number of unique plants, the following SQL query will be executed considering your...
2025-05-04 23:32:26,857 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS total_plants
FROM MACHINE_ACCESS_INFO_AI
WHERE USER_CODE='A-1704902113649' 
  AND PLANTCODE='O-2372838648201';
2025-05-04 23:32:28,842 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:32:28,846 - INFO - NLP summary generated: The SQL query results indicate that there is a tot...
2025-05-04 23:32:31,775 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:32:31,782 - INFO - Visualization type determined: none
2025-05-04 23:32:33,196 - INFO - Query/response logged to Snowflake: query_id=q-297370aa-1cc8-4a67-ad6a-a883e607300a
2025-05-04 23:32:59,861 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:32:59,861 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:32:59,861 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:32:59,861 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:32:59,862 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:32:59,862 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:33:00,634 - INFO - Snowflake connection initialized
2025-05-04 23:33:03,126 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:33:03,474 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:33:04,341 - ERROR - Sidebar chat history load error: name 'time' is not defined
2025-05-04 23:33:15,000 - ERROR - Sidebar chat history load error: name 'time' is not defined
2025-05-04 23:33:16,430 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:33:16,448 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'what is time' does not pertain to the available tables, as it does not specifically reference shift-level OEE performance data or machine access information."}
2025-05-04 23:33:16,449 - INFO - User query: what is time, Intent: {'tables': [], 'reason': "The query 'what is time' does not pertain to the available tables, as it does not specifically reference shift-level OEE performance data or machine access information."}
2025-05-04 23:33:17,179 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:33:17,182 - INFO - Generated 1 embeddings
2025-05-04 23:33:17,543 - INFO - Retrieved 3 relevant contexts for query: what is time...
2025-05-04 23:33:21,343 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:33:21,347 - INFO - RAG response for query 'what is time': It seems you are asking about "time," but it's not clear what specific information you require regar...
2025-05-04 23:33:22,000 - INFO - Query/response logged to Snowflake: query_id=q-4b167ad6-7906-448e-a791-b03b64093b31
2025-05-04 23:33:38,204 - ERROR - Sidebar chat history load error: name 'time' is not defined
2025-05-04 23:33:39,693 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:33:39,697 - INFO - Inferred intent: {'tables': [], 'reason': 'The query pertains to issues regarding chat storage, which does not relate to either OEESHIFTWISE_AI (shift-level performance data) or MACHINE_ACCESS_INFO_AI (machine access information).'}
2025-05-04 23:33:39,698 - INFO - User query: why latest chat is not store , Intent: {'tables': [], 'reason': 'The query pertains to issues regarding chat storage, which does not relate to either OEESHIFTWISE_AI (shift-level performance data) or MACHINE_ACCESS_INFO_AI (machine access information).'}
2025-05-04 23:33:46,110 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:33:46,356 - INFO - Generated 1 embeddings
2025-05-04 23:33:46,689 - INFO - Retrieved 3 relevant contexts for query: why latest chat is not store ...
2025-05-04 23:33:48,777 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:33:48,786 - INFO - RAG response for query 'why latest chat is not store ': It seems that your question is concerning stored chat data, which is unrelated to SQL queries or OEE...
2025-05-04 23:33:49,262 - INFO - Query/response logged to Snowflake: query_id=q-eb26ce83-6d7b-4364-b437-dda8eda54822
2025-05-04 23:34:47,540 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:34:47,541 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:34:47,541 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:34:47,541 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:34:47,541 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:34:47,541 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:34:48,586 - INFO - Snowflake connection initialized
2025-05-04 23:34:50,695 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:34:53,380 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:34:54,000 - ERROR - Sidebar chat history load error: name 'time' is not defined
2025-05-04 23:34:54,062 - INFO - User query: None, Intent: {'tables': [], 'reason': "The query 'None' does not provide any specific information or context that pertains to either of the available tables. Therefore, no tables are relevant to this query."}
2025-05-04 23:34:56,812 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-05-04 23:34:56,815 - ERROR - OpenAI API error: Error code: 400 - {'error': {'message': "Invalid value for 'content': expected a string, got null.", 'type': 'invalid_request_error', 'param': 'messages.[6].content', 'code': None}}
2025-05-04 23:34:56,815 - INFO - RAG response for query 'None': Error connecting to OpenAI: Error code: 400 - {'error': {'message': "Invalid value for 'content': ex...
2025-05-04 23:34:59,007 - ERROR - Query/response logging error: 100072 (22000): None: NULL result in a non-nullable column
2025-05-04 23:34:59,256 - ERROR - Sidebar chat history load error: name 'time' is not defined
2025-05-04 23:35:48,957 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:35:48,957 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:35:48,957 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:35:48,957 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:35:48,958 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:35:48,958 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:35:50,266 - INFO - Snowflake connection initialized
2025-05-04 23:35:53,169 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:35:54,001 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:47:59,771 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:47:59,772 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:47:59,772 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:47:59,772 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:47:59,772 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:47:59,773 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:48:00,935 - INFO - Snowflake connection initialized
2025-05-04 23:48:02,955 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:48:03,747 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:48:11,734 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:48:11,739 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains specifically to Overall Equipment Efficiency (OEE), which is covered by the OEESHIFTWISE_AI table that contains shift-level OEE performance data and related metrics. The MACHINE_ACCESS_INFO_AI table does not relate to OEE performance."}
2025-05-04 23:48:11,740 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' pertains specifically to Overall Equipment Efficiency (OEE), which is covered by the OEESHIFTWISE_AI table that contains shift-level OEE performance data and related metrics. The MACHINE_ACCESS_INFO_AI table does not relate to OEE performance."}
2025-05-04 23:48:12,885 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:48:12,890 - INFO - Generated 1 embeddings
2025-05-04 23:48:13,215 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-04 23:48:19,000 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:48:19,007 - INFO - RAG response for query 'what is oee': OEE (Overall Equipment Effectiveness) is a key performance indicator used in manufacturing to assess...
2025-05-04 23:48:19,652 - INFO - Query/response logged to Snowflake: query_id=q-49a64a06-4055-42a6-a41a-247ba31983b6
2025-05-04 23:48:53,105 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:48:53,105 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:48:53,105 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:48:53,105 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:48:53,106 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:48:53,106 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:48:53,593 - INFO - Snowflake connection initialized
2025-05-04 23:48:54,822 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:48:55,232 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:50:10,714 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:50:10,714 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:50:10,714 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:50:10,715 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:50:10,715 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:50:10,715 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:50:11,567 - INFO - Snowflake connection initialized
2025-05-04 23:50:13,664 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:50:13,963 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:50:14,042 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:50:14,043 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:50:14,399 - INFO - Snowflake connection initialized
2025-05-04 23:50:16,217 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-04 23:50:16,494 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:50:16,494 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:50:16,846 - INFO - Snowflake connection initialized
2025-05-04 23:50:18,489 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-04 23:50:26,310 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:50:26,323 - INFO - Inferred intent: {'tables': [], 'reason': "The user query 'what is time' does not pertain to either available table, as it does not relate to shift-level OEE performance data or machine access information."}
2025-05-04 23:50:26,325 - INFO - User query: what is time, Intent: {'tables': [], 'reason': "The user query 'what is time' does not pertain to either available table, as it does not relate to shift-level OEE performance data or machine access information."}
2025-05-04 23:50:27,532 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:50:27,539 - INFO - Generated 1 embeddings
2025-05-04 23:50:28,311 - INFO - Retrieved 3 relevant contexts for query: what is time...
2025-05-04 23:50:30,415 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:50:30,423 - INFO - RAG response for query 'what is time': It seems like your question about "time" is quite broad. In the context of Overall Equipment Effecti...
2025-05-04 23:50:30,861 - INFO - Query/response logged to Snowflake: query_id=q-ed3a569e-5655-41b0-ba39-e60e17ef0b86
2025-05-04 23:50:43,821 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:50:43,828 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'how are you' does not pertain to either of the provided tables, as it does not relate to shift-level OEE performance data or machine access information."}
2025-05-04 23:50:43,828 - INFO - User query: how are you, Intent: {'tables': [], 'reason': "The query 'how are you' does not pertain to either of the provided tables, as it does not relate to shift-level OEE performance data or machine access information."}
2025-05-04 23:50:44,337 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:50:44,343 - INFO - Generated 1 embeddings
2025-05-04 23:50:45,282 - INFO - Retrieved 3 relevant contexts for query: how are you...
2025-05-04 23:50:47,297 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:50:47,303 - INFO - RAG response for query 'how are you': I'm doing well, thank you for asking! 

If you have any questions about OEE or any specific data you...
2025-05-04 23:50:47,780 - INFO - Query/response logged to Snowflake: query_id=q-5ce8f242-fa01-47b5-a499-ebfbe4e1fa29
2025-05-04 23:50:51,376 - INFO - Chat history cleared from Snowflake for user_code=A-1704902113649 and plant_code=O-2372838648201
2025-05-04 23:51:03,460 - INFO - Chat history cleared from Snowflake for user_code=A-1704902113649 and plant_code=O-2372838648201
2025-05-04 23:53:25,640 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-04 23:53:25,640 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-04 23:53:25,640 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-04 23:53:25,640 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-04 23:53:25,641 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-04 23:53:25,641 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-04 23:53:26,336 - INFO - Snowflake connection initialized
2025-05-04 23:53:27,346 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-04 23:53:27,651 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-04 23:53:37,075 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:53:37,080 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains specifically to overall equipment effectiveness (OEE) metrics, which are detailed in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to this query as it does not involve machine access or plant codes."}
2025-05-04 23:53:37,082 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the maximum oee' pertains specifically to overall equipment effectiveness (OEE) metrics, which are detailed in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to this query as it does not involve machine access or plant codes."}
2025-05-04 23:53:38,102 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-04 23:53:38,107 - INFO - Generated 1 embeddings
2025-05-04 23:53:38,637 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-04 23:53:43,528 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:53:43,533 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE (Overall Equipment Effectiveness) from the `OEESHIFTWISE_AI` table while con...
2025-05-04 23:53:43,866 - INFO - Executed and cached query: SELECT MAX(CAST(OEE AS FLOAT)) AS MAX_OEE
FROM O3_AI_DB.O3_AI_DB_SCHEMA.OEESHIFTWISE_AI AS oee
JOIN O3_AI_DB.O3_AI_DB_SCHEMA.machine_access_info_ai AS mach_info
ON oee.PUID = mach_info.PUID
WHERE mach_info.USER_CODE = 'A-1704902113649'
AND mach_info.PLANTCODE = 'O-2372838648201';
2025-05-04 23:53:45,169 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:53:45,173 - INFO - NLP summary generated: The maximum OEE (Overall Equipment Efficiency) rec...
2025-05-04 23:53:48,267 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-04 23:53:48,271 - INFO - Visualization type determined: none
2025-05-04 23:53:48,986 - INFO - Query/response logged to Snowflake: query_id=q-bcb9e22a-8091-4fc3-aec4-aaeed3ad958b
2025-05-05 00:15:21,730 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 00:15:21,730 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 00:15:21,730 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 00:15:21,730 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 00:15:21,731 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 00:15:21,732 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 00:15:22,673 - INFO - Snowflake connection initialized
2025-05-05 00:15:23,992 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 00:15:24,322 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 00:15:39,431 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:15:39,434 - INFO - Inferred intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the machine or plantcode access information, which is related to the count of plants. The OEESHIFTWISE_AI table focuses on shift-level performance data, which is not relevant to the query asking about the total number of plants."}
2025-05-05 00:15:39,435 - INFO - User query: how many total plants are, Intent: {'tables': ['MACHINE_ACCESS_INFO_AI'], 'reason': "The query 'how many total plants are' pertains to the machine or plantcode access information, which is related to the count of plants. The OEESHIFTWISE_AI table focuses on shift-level performance data, which is not relevant to the query asking about the total number of plants."}
2025-05-05 00:15:40,491 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-05 00:15:40,494 - INFO - Generated 1 embeddings
2025-05-05 00:15:41,166 - INFO - Retrieved 3 relevant contexts for query: how many total plants are...
2025-05-05 00:15:44,179 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:15:44,181 - INFO - RAG response for query 'how many total plants are': To determine the total number of plants, we need to count distinct entries in the `MACHINE_ACCESS_IN...
2025-05-05 00:15:44,446 - INFO - Executed and cached query: SELECT COUNT(DISTINCT PLANT_ID) AS TOTAL_PLANTS
FROM O3_AI_DB.O3_AI_DB_SCHEMA.MACHINE_ACCESS_INFO_AI
WHERE USER_CODE = 'A-1704902113649' AND PLANTCODE = 'O-2372838648201';
2025-05-05 00:15:46,660 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:15:46,665 - INFO - NLP summary generated: The SQL query reveals that there is a total of 1 d...
2025-05-05 00:15:49,834 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:15:49,843 - INFO - Visualization type determined: bar
2025-05-05 00:15:50,275 - INFO - Query/response logged to Snowflake: query_id=q-6b90df66-da1c-466a-aecf-8b222814d59b
2025-05-05 00:36:53,647 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 00:36:53,648 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 00:36:53,648 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 00:36:53,648 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 00:36:53,648 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 00:36:53,649 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 00:36:54,855 - INFO - Snowflake connection initialized
2025-05-05 00:36:56,168 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 00:36:56,586 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 00:37:17,832 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:37:17,835 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for the OEE (Overall Equipment Effectiveness) of March 2025, which pertains to performance data that is captured in the OEESHIFTWISE_AI table, as it includes shift-level OEE performance metrics.'}
2025-05-05 00:37:17,836 - INFO - User query: what is the oee of march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query specifically asks for the OEE (Overall Equipment Effectiveness) of March 2025, which pertains to performance data that is captured in the OEESHIFTWISE_AI table, as it includes shift-level OEE performance metrics.'}
2025-05-05 00:37:18,332 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-05 00:37:18,336 - INFO - Generated 1 embeddings
2025-05-05 00:37:19,268 - INFO - Retrieved 3 relevant contexts for query: what is the oee of march 2025...
2025-05-05 00:37:20,441 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:37:20,449 - INFO - RAG response for query 'what is the oee of march 2025': You don't have access to this data. Please verify your credentials....
2025-05-05 00:37:21,219 - INFO - Query/response logged to Snowflake: query_id=q-9c09995f-04c4-4eb3-ad6c-2c6e5bd41979
2025-05-05 00:37:51,457 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 00:37:51,458 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 00:37:51,458 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 00:37:51,459 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 00:37:51,459 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 00:37:51,460 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 00:37:52,117 - INFO - Snowflake connection initialized
2025-05-05 00:37:56,071 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 00:37:56,479 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 00:37:56,581 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 00:37:56,581 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 00:37:56,925 - INFO - Snowflake connection initialized
2025-05-05 00:37:58,922 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-05 00:37:59,211 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 00:37:59,212 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 00:37:59,525 - INFO - Snowflake connection initialized
2025-05-05 00:38:02,046 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-05 00:38:15,986 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:38:16,001 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the oee' is directly related to Overall Equipment Effectiveness (OEE), which is specifically covered by the OEESHIFTWISE_AI table containing shift-level OEE performance data."}
2025-05-05 00:38:16,003 - INFO - User query: what is the oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the oee' is directly related to Overall Equipment Effectiveness (OEE), which is specifically covered by the OEESHIFTWISE_AI table containing shift-level OEE performance data."}
2025-05-05 00:38:17,416 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-05 00:38:17,423 - INFO - Generated 1 embeddings
2025-05-05 00:38:18,350 - INFO - Retrieved 3 relevant contexts for query: what is the oee...
2025-05-05 00:38:19,340 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:38:19,347 - INFO - RAG response for query 'what is the oee': You don't have access to this data. Please verify your credentials....
2025-05-05 00:38:19,823 - INFO - Query/response logged to Snowflake: query_id=q-ed86d088-df73-4a4a-8fc2-c7707c763196
2025-05-05 00:38:52,774 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 00:38:52,774 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 00:38:52,774 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 00:38:52,775 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 00:38:52,775 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 00:38:52,775 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 00:38:53,179 - INFO - Snowflake connection initialized
2025-05-05 00:38:54,834 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 00:38:55,141 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 00:39:05,022 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:39:05,027 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' directly pertains to Overall Equipment Effectiveness (OEE), which is a key performance indicator covered in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not relate to OEE or its metrics."}
2025-05-05 00:39:05,029 - INFO - User query: wjhat is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' directly pertains to Overall Equipment Effectiveness (OEE), which is a key performance indicator covered in the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table does not relate to OEE or its metrics."}
2025-05-05 00:39:06,960 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-05 00:39:06,964 - INFO - Generated 1 embeddings
2025-05-05 00:39:07,763 - INFO - Retrieved 3 relevant contexts for query: wjhat is oee...
2025-05-05 00:39:12,630 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:39:12,635 - INFO - RAG response for query 'wjhat is oee': OEE (Overall Equipment Effectiveness) is a key performance indicator used in manufacturing to assess...
2025-05-05 00:39:13,165 - INFO - Query/response logged to Snowflake: query_id=q-7d07fe9e-73e6-4469-9c58-abff847d6c87
2025-05-05 00:39:28,403 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:39:28,414 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query is specifically asking for the OEE (Overall Equipment Effectiveness) for March 2025, which pertains to shift-level performance data covered by the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to the query as it does not involve access information.'}
2025-05-05 00:39:28,415 - INFO - User query: what is the oee of march 2025, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query is specifically asking for the OEE (Overall Equipment Effectiveness) for March 2025, which pertains to shift-level performance data covered by the OEESHIFTWISE_AI table. The MACHINE_ACCESS_INFO_AI table is not relevant to the query as it does not involve access information.'}
2025-05-05 00:39:29,394 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-05 00:39:29,404 - INFO - Generated 1 embeddings
2025-05-05 00:39:30,288 - INFO - Retrieved 3 relevant contexts for query: what is the oee of march 2025...
2025-05-05 00:39:34,767 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:39:34,801 - INFO - RAG response for query 'what is the oee of march 2025': To find the OEE for March 2025, please use the following SQL query. This query will retrieve the OEE...
2025-05-05 00:39:35,249 - INFO - Executed and cached query: SELECT AVG(OEE) AS Average_OEE
FROM OEESHIFTWISE_AI
INNER JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.user_code = 'A-1704902113649'
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201'
  AND DATE >= '2025-03-01' AND DATE < '2025-04-01';
2025-05-05 00:39:36,876 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:39:36,880 - INFO - NLP summary generated: The Overall Equipment Effectiveness (OEE) for Marc...
2025-05-05 00:39:39,838 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:39:39,843 - INFO - Visualization type determined: bar
2025-05-05 00:39:40,456 - INFO - Query/response logged to Snowflake: query_id=q-716466c2-caca-4849-9f5e-01e96776c097
2025-05-05 00:53:51,444 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 00:53:51,444 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 00:53:51,444 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 00:53:51,445 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 00:53:51,445 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 00:53:51,446 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 00:53:52,673 - INFO - Snowflake connection initialized
2025-05-05 00:53:54,619 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 00:53:54,931 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 00:54:14,278 - INFO - User query: what is the oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is the oee' is directly related to Overall Equipment Effectiveness (OEE), which is specifically covered by the OEESHIFTWISE_AI table containing shift-level OEE performance data."}
2025-05-05 00:54:14,578 - INFO - Retrieved 3 relevant contexts for query: what is the oee...
2025-05-05 00:54:19,602 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 00:54:19,605 - INFO - RAG response for query 'what is the oee': Overall Equipment Effectiveness (OEE) is a key performance indicator used to evaluate the efficiency...
2025-05-05 00:54:20,058 - INFO - Query/response logged to Snowflake: query_id=q-72267e2d-025f-4014-88d1-ddb933a5d52e
2025-05-05 01:01:39,642 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 01:01:39,642 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 01:01:39,642 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 01:01:39,642 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 01:01:39,643 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 01:01:39,643 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 01:01:40,451 - INFO - Snowflake connection initialized
2025-05-05 01:01:41,600 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 01:01:41,921 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 02:20:26,767 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 02:20:26,767 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 02:20:26,767 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 02:20:26,768 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 02:20:26,768 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 02:20:26,769 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 02:20:28,243 - INFO - Snowflake connection initialized
2025-05-05 02:20:29,382 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 02:20:30,108 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 02:35:17,665 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 02:35:17,665 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 02:35:17,665 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 02:35:17,665 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 02:35:17,666 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 02:35:17,666 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 02:35:18,266 - INFO - Snowflake connection initialized
2025-05-05 02:35:19,441 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 02:35:19,757 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 02:35:30,977 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 02:35:30,980 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'what is time' does not pertain to either of the provided tables, as it does not relate to shift-level OEE performance data or machine access information."}
2025-05-05 02:35:30,981 - INFO - User query: what is time, Intent: {'tables': [], 'reason': "The query 'what is time' does not pertain to either of the provided tables, as it does not relate to shift-level OEE performance data or machine access information."}
2025-05-05 02:35:31,590 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-05 02:35:31,596 - INFO - Generated 1 embeddings
2025-05-05 02:35:32,387 - INFO - Retrieved 3 relevant contexts for query: what is time...
2025-05-05 02:35:32,394 - ERROR - OpenAI API error: Object of type Timestamp is not JSON serializable
2025-05-05 02:35:32,394 - INFO - RAG response for query 'what is time': Error connecting to OpenAI: Object of type Timestamp is not JSON serializable...
2025-05-05 02:35:33,050 - INFO - Query/response logged to Snowflake: query_id=q-c47aa4d8-c3c0-421b-8175-4d593211d3d5
2025-05-05 02:35:42,993 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 02:35:42,994 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 02:35:42,994 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 02:35:42,995 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 02:35:42,995 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 02:35:42,996 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 02:35:43,476 - INFO - Snowflake connection initialized
2025-05-05 02:35:44,494 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 02:35:44,858 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 02:35:56,269 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 02:35:56,274 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query focuses on the maximum OEE (Overall Equipment Efficiency), which directly relates to shift-level OEE performance metrics provided in the OEESHIFTWISE_AI table.'}
2025-05-05 02:35:56,275 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query focuses on the maximum OEE (Overall Equipment Efficiency), which directly relates to shift-level OEE performance metrics provided in the OEESHIFTWISE_AI table.'}
2025-05-05 02:35:56,593 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-05 02:35:56,596 - INFO - Generated 1 embeddings
2025-05-05 02:35:57,513 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-05 02:35:57,522 - ERROR - OpenAI API error: Object of type Timestamp is not JSON serializable
2025-05-05 02:35:57,522 - INFO - RAG response for query 'what is the maximum oee': Error connecting to OpenAI: Object of type Timestamp is not JSON serializable...
2025-05-05 02:35:58,802 - INFO - Query/response logged to Snowflake: query_id=q-3f0b8f12-f7d4-4402-aa2d-b1c681a4a74b
2025-05-05 02:38:01,317 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 02:38:01,318 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 02:38:01,318 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 02:38:01,318 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 02:38:01,318 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 02:38:01,319 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 02:38:01,942 - INFO - Snowflake connection initialized
2025-05-05 02:38:03,125 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 02:38:03,750 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 02:40:32,896 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 02:40:32,896 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 02:40:32,896 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 02:40:32,896 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 02:40:32,897 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 02:40:32,897 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 02:40:33,652 - INFO - Snowflake connection initialized
2025-05-05 02:40:35,111 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 02:40:35,464 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 02:40:41,691 - INFO - User query: what is time, Intent: {'tables': [], 'reason': "The query 'what is time' does not pertain to either of the provided tables, as it does not relate to shift-level OEE performance data or machine access information."}
2025-05-05 02:40:42,401 - INFO - Retrieved 3 relevant contexts for query: what is time...
2025-05-05 02:40:48,517 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 02:40:48,545 - INFO - RAG response for query 'what is time': The question "what is time" is a bit unclear in the context of OEE metrics. If you're asking about t...
2025-05-05 02:40:49,033 - INFO - Query/response logged to Snowflake: query_id=q-6220a98d-7abf-4f4c-820d-cbad700f09ac
2025-05-05 02:40:59,697 - INFO - User query: what is the maximum oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': 'The query focuses on the maximum OEE (Overall Equipment Efficiency), which directly relates to shift-level OEE performance metrics provided in the OEESHIFTWISE_AI table.'}
2025-05-05 02:41:00,343 - INFO - Retrieved 3 relevant contexts for query: what is the maximum oee...
2025-05-05 02:41:05,720 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 02:41:05,725 - INFO - RAG response for query 'what is the maximum oee': To find the maximum OEE (Overall Equipment Effectiveness) for your accessible data, I will write a S...
2025-05-05 02:41:06,217 - INFO - Executed and cached query: SELECT MAX(OEE) AS Max_OEE
FROM OEESHIFTWISE_AI
INNER JOIN MACHINE_ACCESS_INFO_AI ON OEESHIFTWISE_AI.PUID = MACHINE_ACCESS_INFO_AI.PUID
WHERE MACHINE_ACCESS_INFO_AI.USER_CODE = 'A-1704902113649'
  AND MACHINE_ACCESS_INFO_AI.PLANTCODE = 'O-2372838648201';
2025-05-05 02:41:08,208 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 02:41:08,214 - INFO - NLP summary generated: The maximum Overall Equipment Effectiveness (OEE) ...
2025-05-05 02:41:11,864 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 02:41:11,868 - INFO - Visualization type determined: none
2025-05-05 02:41:12,326 - INFO - Query/response logged to Snowflake: query_id=q-da3ec857-0d16-4265-b70c-380f55e5cd4f
2025-05-05 02:41:41,209 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 02:41:41,210 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 02:41:41,210 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 02:41:41,211 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 02:41:41,211 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 02:41:41,212 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 02:41:41,583 - INFO - Snowflake connection initialized
2025-05-05 02:41:42,760 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 02:41:43,071 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 02:49:21,190 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 02:49:21,191 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 02:49:21,191 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 02:49:21,191 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 02:49:21,191 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 02:49:21,191 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 02:49:21,735 - INFO - Snowflake connection initialized
2025-05-05 02:49:22,717 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 02:49:22,978 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 02:49:27,549 - INFO - User query: what is time, Intent: {'tables': [], 'reason': "The query 'what is time' does not pertain to either of the provided tables, as it does not relate to shift-level OEE performance data or machine access information."}
2025-05-05 02:49:27,848 - INFO - Retrieved 3 relevant contexts for query: what is time...
2025-05-05 02:49:32,742 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 02:49:32,752 - INFO - RAG response for query 'what is time': It seems like your current query is "what is time". If you're looking for more information about tim...
2025-05-05 02:49:34,063 - INFO - Query/response logged to Snowflake: query_id=q-4e4ab7d3-a5d2-48b7-98b8-1937bf6df29a
2025-05-05 03:09:07,447 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 03:09:07,450 - INFO - Inferred intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' directly pertains to Overall Equipment Effectiveness (OEE), which is specifically covered by the OEESHIFTWISE_AI table that includes shift-level OEE performance data."}
2025-05-05 03:09:07,451 - INFO - User query: what is oee, Intent: {'tables': ['OEESHIFTWISE_AI'], 'reason': "The query 'what is oee' directly pertains to Overall Equipment Effectiveness (OEE), which is specifically covered by the OEESHIFTWISE_AI table that includes shift-level OEE performance data."}
2025-05-05 03:09:08,060 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-05 03:09:08,066 - INFO - Generated 1 embeddings
2025-05-05 03:09:08,404 - INFO - Retrieved 3 relevant contexts for query: what is oee...
2025-05-05 03:09:13,720 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 03:09:13,730 - INFO - RAG response for query 'what is oee': OEE, or Overall Equipment Effectiveness, is a key performance indicator used in manufacturing to ass...
2025-05-05 03:09:15,107 - INFO - Query/response logged to Snowflake: query_id=q-a7ac3c41-d21b-4208-95cd-a5b997f150d6
2025-05-05 03:09:38,424 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 03:09:38,424 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 03:09:38,424 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 03:09:38,424 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 03:09:38,425 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 03:09:38,425 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 03:09:38,935 - INFO - Snowflake connection initialized
2025-05-05 03:09:40,024 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 03:09:40,622 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 03:22:05,630 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 03:22:05,630 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 03:22:05,630 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 03:22:05,631 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 03:22:05,631 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 03:22:05,631 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 03:22:06,633 - INFO - Snowflake connection initialized
2025-05-05 03:22:08,065 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 03:22:08,329 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 03:37:48,052 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 03:37:48,053 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 03:37:48,053 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 03:37:48,053 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 03:37:48,053 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 03:37:48,053 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 03:37:50,131 - INFO - Snowflake connection initialized
2025-05-05 03:37:52,161 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 03:37:52,870 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 03:53:46,297 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 03:53:46,297 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 03:53:46,297 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 03:53:46,298 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 03:53:46,299 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 03:53:46,299 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 03:53:46,682 - INFO - Snowflake connection initialized
2025-05-05 03:53:47,773 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 03:53:48,095 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 03:57:32,388 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 03:57:32,388 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 03:57:32,388 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 03:57:32,389 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 03:57:32,390 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 03:57:32,390 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 03:57:43,465 - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<snowflake.connector.vendored.urllib3.connection.HTTPSConnection object at 0x0000014CD10D2C10>: Failed to establish a new connection: [Errno 11001] getaddrinfo failed')': /session/v1/login-request?request_id=6a4befbe-8108-4659-badf-519cd2a9fa60&databaseName=O3_AI_DB&schemaName=O3_AI_DB_SCHEMA&warehouse=O3_INSHIGHTS_WH&request_guid=f29da045-dd75-4cf8-9d5e-227b050e6c46
2025-05-05 03:57:57,114 - INFO - Snowflake connection initialized
2025-05-05 03:57:58,346 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 03:57:58,625 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 03:58:34,071 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 03:58:34,071 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 03:58:34,071 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 03:58:34,071 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 03:58:34,071 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 03:58:34,072 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 03:58:34,488 - INFO - Snowflake connection initialized
2025-05-05 03:58:35,668 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 03:58:36,371 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:00:45,534 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:00:45,535 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:00:45,535 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:00:45,536 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:00:45,537 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:00:45,537 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:00:46,199 - INFO - Snowflake connection initialized
2025-05-05 04:00:49,863 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:00:50,226 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:00:50,325 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:00:50,326 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:00:50,695 - INFO - Snowflake connection initialized
2025-05-05 04:00:52,720 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-05 04:00:53,016 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:00:53,016 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:00:53,325 - INFO - Snowflake connection initialized
2025-05-05 04:00:55,204 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-05 04:03:40,352 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:03:40,353 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:03:40,353 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:03:40,353 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:03:40,354 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:03:40,354 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:04:01,561 - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<snowflake.connector.vendored.urllib3.connection.HTTPSConnection object at 0x000001B9B92C5D10>, 'Connection to obeikan-o3ai.snowflakecomputing.com timed out. (connect timeout=60)')': /session/v1/login-request?request_id=279f9bd8-552d-4cbc-bf0b-1b6782b41443&databaseName=O3_AI_DB&schemaName=O3_AI_DB_SCHEMA&warehouse=O3_INSHIGHTS_WH&request_guid=72aa2843-0419-401a-b0dc-6251eebf5f9c
2025-05-05 04:04:34,877 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:04:34,878 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:04:34,878 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:04:34,879 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:04:34,879 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:04:34,879 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:04:44,763 - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<snowflake.connector.vendored.urllib3.connection.HTTPSConnection object at 0x000001B9C53DDF90>, 'Connection to obeikan-o3ai.snowflakecomputing.com timed out. (connect timeout=60)')': /session/v1/login-request?request_id=434285b0-d366-48bd-bd28-1499cddb88e0&databaseName=O3_AI_DB&schemaName=O3_AI_DB_SCHEMA&warehouse=O3_INSHIGHTS_WH&request_guid=8b1587df-feaa-4628-b8a1-ade3de49557a
2025-05-05 04:04:55,933 - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<snowflake.connector.vendored.urllib3.connection.HTTPSConnection object at 0x000001B9B97987D0>, 'Connection to obeikan-o3ai.snowflakecomputing.com timed out. (connect timeout=60)')': /session/v1/login-request?request_id=d8354c9d-0dec-4c16-9604-cb23350b8bf6&databaseName=O3_AI_DB&schemaName=O3_AI_DB_SCHEMA&warehouse=O3_INSHIGHTS_WH&request_guid=97027eb7-275a-4dcc-bd54-013127b8afbc
2025-05-05 04:05:16,775 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:05:16,776 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:05:16,776 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:05:16,776 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:05:16,777 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:05:16,777 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:05:23,600 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:05:23,601 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:05:23,601 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:05:23,602 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:05:23,603 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:05:23,603 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:05:37,873 - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<snowflake.connector.vendored.urllib3.connection.HTTPSConnection object at 0x000001B9B92C5F90>, 'Connection to obeikan-o3ai.snowflakecomputing.com timed out. (connect timeout=60)')': /session/v1/login-request?request_id=d4f9ddb6-6676-4018-be97-856467fbae8f&databaseName=O3_AI_DB&schemaName=O3_AI_DB_SCHEMA&warehouse=O3_INSHIGHTS_WH&request_guid=fa1a2c9b-bb3d-45d5-ac10-fe7561b6a29b
2025-05-05 04:05:39,037 - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<snowflake.connector.vendored.urllib3.connection.HTTPSConnection object at 0x000001B9B97991D0>, 'Connection to obeikan-o3ai.snowflakecomputing.com timed out. (connect timeout=60)')': /session/v1/login-request?request_id=813c15c8-c138-4dfe-9eca-217017b60fff&databaseName=O3_AI_DB&schemaName=O3_AI_DB_SCHEMA&warehouse=O3_INSHIGHTS_WH&request_guid=0a6c3fdf-9acb-4b20-a170-641583ad46fc
2025-05-05 04:05:44,675 - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<snowflake.connector.vendored.urllib3.connection.HTTPSConnection object at 0x000001B9B9799090>, 'Connection to obeikan-o3ai.snowflakecomputing.com timed out. (connect timeout=60)')': /session/v1/login-request?request_id=48abbd15-9062-4fdc-b4bb-3fcc1d22dd86&databaseName=O3_AI_DB&schemaName=O3_AI_DB_SCHEMA&warehouse=O3_INSHIGHTS_WH&request_guid=1388a13e-0fe6-4c16-9d64-cf2d568bb7f5
2025-05-05 04:05:47,572 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:05:47,572 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:05:47,572 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:05:47,573 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:05:47,573 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:05:47,574 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:05:59,501 - INFO - Snowflake connection initialized
2025-05-05 04:06:00,963 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:06:01,510 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:12:01,923 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:12:01,923 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:12:01,923 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:12:01,924 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:12:01,925 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:12:01,925 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:12:02,627 - INFO - Streamlit connection initialized
2025-05-05 04:12:03,546 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:12:03,808 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:13:41,258 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:13:41,258 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:13:41,259 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:13:41,259 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:13:41,260 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:13:41,260 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:13:41,800 - INFO - Streamlit connection initialized
2025-05-05 04:13:42,921 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:13:43,289 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:14:11,632 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:14:11,633 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:14:11,633 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:14:11,633 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:14:11,633 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:14:11,633 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:14:12,177 - INFO - Streamlit connection initialized
2025-05-05 04:14:13,771 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:14:14,158 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:17:00,237 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:17:00,237 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:17:00,237 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:17:00,238 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:17:00,238 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:17:00,238 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:17:00,959 - INFO - Snowflake connection initialized
2025-05-05 04:17:04,032 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:17:04,819 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:17:56,447 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 04:17:56,470 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'what is the OTP' does not pertain specifically to either of the available tables. It does not relate to shift-level OEE performance data or machine access information."}
2025-05-05 04:17:56,471 - INFO - User query: what is the OTP, Intent: {'tables': [], 'reason': "The query 'what is the OTP' does not pertain specifically to either of the available tables. It does not relate to shift-level OEE performance data or machine access information."}
2025-05-05 04:21:13,242 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:21:13,243 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:21:13,243 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:21:13,244 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:21:13,244 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:21:13,245 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:21:14,170 - INFO - Snowflake connection initialized
2025-05-05 04:21:17,433 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:21:17,860 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:21:17,954 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:21:17,954 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:21:18,262 - INFO - Snowflake connection initialized
2025-05-05 04:21:20,742 - INFO - Loaded 217 embeddings from Snowflake for OEESHIFTWISE_AI
2025-05-05 04:21:21,069 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:21:21,069 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:21:23,023 - INFO - Snowflake connection initialized
2025-05-05 04:21:25,686 - INFO - Loaded 210 embeddings from Snowflake for MACHINE_ACCESS_INFO_AI
2025-05-05 04:21:55,740 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:21:55,740 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:21:55,740 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:21:55,741 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:21:55,741 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:21:55,741 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:21:56,280 - INFO - Snowflake connection initialized
2025-05-05 04:21:57,384 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:21:57,714 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:22:51,647 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:22:51,648 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:22:51,648 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:22:51,649 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:22:51,650 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:22:51,651 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:22:52,771 - INFO - Snowflake connection initialized
2025-05-05 04:22:53,832 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:22:54,171 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:29:01,664 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:29:01,664 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:29:01,665 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:29:01,665 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:29:01,666 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:29:01,666 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:29:02,383 - INFO - Snowflake connection initialized
2025-05-05 04:29:03,453 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:29:04,013 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:29:23,847 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:29:23,848 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:29:23,848 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:29:23,848 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:29:23,849 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:29:23,849 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:29:24,285 - INFO - Snowflake connection initialized
2025-05-05 04:29:25,135 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:29:25,448 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:29:39,073 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 04:29:39,090 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'what is oa' is ambiguous and does not clearly pertain to either the OEESHIFTWISE_AI table or the MACHINE_ACCESS_INFO_AI table. 'oa' could refer to various subjects that don't specifically align with the data types provided in the descriptions of the available tables."}
2025-05-05 04:29:39,091 - INFO - User query: what is oa, Intent: {'tables': [], 'reason': "The query 'what is oa' is ambiguous and does not clearly pertain to either the OEESHIFTWISE_AI table or the MACHINE_ACCESS_INFO_AI table. 'oa' could refer to various subjects that don't specifically align with the data types provided in the descriptions of the available tables."}
2025-05-05 04:31:51,435 - INFO - Token before decoding: eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImNjZWQ4NjUwLTgyMzAtNGQ4Ni05NWUzLWM5YmU3YjM1MjYzMiIsInVzZXJOYW1lIjoiQWRtaW4yIiwicGxhbnRDb2RlIjoiTy0yMzcyODM4NjQ4MjAxIiwiZ3JvdXBDb2RlIjoiUy04NjU2MjA4MjI0MTkzIiwidXNlckNvZGUiOiJBLTE3MDQ5MDIxMTM2NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ1c21hbnNoYXJpZjk5NEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOlsiT0ZDLURUIGNvbmZpZyIsIktQSSBEYXRhIFJlZnJlc2giLCJPcGVyYXRvciIsIlREQyBBbmFseXNpcyIsIlF1YWxpdHkgQ2hlY2tsaXN0IiwiUFJPRFVDVElPTiBNQU5BR0VSIiwiQWRtaW4iLCJBdXRvbm9tb3VzIE1haW50ZW5hbmNlIiwiTGluZSBMZWFkZXIiLCJBZG1pbi11c2VyLWRldGFpbHMtc2NyZWVuIiwiQWR2YW5jZSBBbmFseXRpY3MiLCJBTSBOZXcgRGFzaGJvYXJkcyIsIlFDIG9mZmljZXIgIiwiQW5hbHl0aWNhbCBUb29sIiwiQ09FIGRhc2hib2FyZCIsIlFDIGxlYWRlciIsIlByb2dyZXNzaXZlIE1haW50ZW5hbmNlIEFkbWluIiwiQXNzZXQgJiBETVMgLSBBZG1pbjIiLCJTZWN0aW9uIE1hbmFnZXIiLCJRdWFsaXR5IE1hbmFnZW1lbnQiXSwiZXhwIjoxNzQ2MjI1NjMzLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDQ4LyIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjQyMDAvIn0.ToiABwSeGp2le473f8sC1EkZ6SPvBh-94Nwg6k39dnM
2025-05-05 04:31:51,435 - INFO - Decoded token: {'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier': 'cced8650-8230-4d86-95e3-c9be7b352632', 'userName': 'Admin2', 'plantCode': 'O-2372838648201', 'groupCode': 'S-8656208224193', 'userCode': 'A-1704902113649', 'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress': 'usmansharif994@gmail.com', 'http://schemas.microsoft.com/ws/2008/06/identity/claims/role': ['OFC-DT config', 'KPI Data Refresh', 'Operator', 'TDC Analysis', 'Quality Checklist', 'PRODUCTION MANAGER', 'Admin', 'Autonomous Maintenance', 'Line Leader', 'Admin-user-details-screen', 'Advance Analytics', 'AM New Dashboards', 'QC officer ', 'Analytical Tool', 'COE dashboard', 'QC leader', 'Progressive Maintenance Admin', 'Asset & DMS - Admin2', 'Section Manager', 'Quality Management'], 'exp': 1746225633, 'iss': 'https://localhost:7048/', 'aud': 'https://localhost:4200/'}
2025-05-05 04:31:51,435 - INFO - Extracted user_code: A-1704902113649, plant_code: O-2372838648201
2025-05-05 04:31:51,436 - INFO - User authenticated: A-1704902113649, Plant: O-2372838648201
2025-05-05 04:31:51,437 - INFO - Snowflake Connector for Python Version: 3.15.0, Python Version: 3.13.2, Platform: Windows-10-10.0.19045-SP0
2025-05-05 04:31:51,437 - INFO - Connecting to GLOBAL Snowflake domain
2025-05-05 04:31:51,931 - INFO - Snowflake connection initialized
2025-05-05 04:31:53,163 - INFO - Executed and cached query: SELECT * FROM OEESHIFTWISE_AI LIMIT 1000
2025-05-05 04:31:53,511 - INFO - Executed and cached query: SELECT * FROM MACHINE_ACCESS_INFO_AI LIMIT 1000
2025-05-05 04:32:04,110 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 04:32:04,120 - INFO - Inferred intent: {'tables': [], 'reason': "The query 'soe' does not specifically reference either of the available tables or their descriptions. Without additional context or keywords related to OEE performance data or machine access information, it is unclear which table(s) the query pertains to."}
2025-05-05 04:32:04,121 - INFO - User query: soe, Intent: {'tables': [], 'reason': "The query 'soe' does not specifically reference either of the available tables or their descriptions. Without additional context or keywords related to OEE performance data or machine access information, it is unclear which table(s) the query pertains to."}
